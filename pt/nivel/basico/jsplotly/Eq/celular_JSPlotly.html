<html lang="pt"><head><style id="ace-github">.ace-github .ace_gutter {background: #e8e8e8;color: #AAA;}.ace-github  {background: #fff;color: #000;}.ace-github .ace_keyword {font-weight: bold;}.ace-github .ace_string {color: #D14;}.ace-github .ace_variable.ace_class {color: teal;}.ace-github .ace_constant.ace_numeric {color: #099;}.ace-github .ace_constant.ace_buildin {color: #0086B3;}.ace-github .ace_support.ace_function {color: #0086B3;}.ace-github .ace_comment {color: #998;font-style: italic;}.ace-github .ace_variable.ace_language  {color: #0086B3;}.ace-github .ace_paren {font-weight: bold;}.ace-github .ace_boolean {font-weight: bold;}.ace-github .ace_string.ace_regexp {color: #009926;font-weight: normal;}.ace-github .ace_variable.ace_instance {color: teal;}.ace-github .ace_constant.ace_language {font-weight: bold;}.ace-github .ace_cursor {color: black;}.ace-github.ace_focus .ace_marker-layer .ace_active-line {background: rgb(255, 255, 204);}.ace-github .ace_marker-layer .ace_active-line {background: rgb(245, 245, 245);}.ace-github .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-github.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-github.ace_nobold .ace_line > span {font-weight: normal !important;}.ace-github .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-github .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-github .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-github .ace_gutter-active-line {background-color : rgba(0, 0, 0, 0.07);}.ace-github .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-github .ace_invisible {color: #BFBFBF}.ace-github .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-github .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}
/*# sourceURL=ace/css/ace-github */</style><style>    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }</style><style id="ace-tm">.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}
/*# sourceURL=ace/css/ace-tm */</style><style id="ace_editor.css">.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;padding: 0;font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;font-variant-ligatures: no-common-ligatures;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: '';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_error_bracket {position: absolute;border-bottom: 1px solid #DE5555;border-radius: 0;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);transform-origin: left;white-space: pre;opacity: 0.7;margin: 0 10px;}
/*# sourceURL=ace/css/ace_editor.css */</style>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSPlotly</title>
  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/plotly.js/2.20.0/plotly.min.js"></script><style id="plotly.js-style-global"></style>  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.js"></script> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.11.1/math.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/numeric/1.2.6/numeric.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/simple-statistics@7.8.3/dist/simple-statistics.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/ml-regression@6.0.0/dist/ml-regression.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>    
    <script src="https://cdn.jsdelivr.net/npm/ml-levenberg-marquardt@3.3.0/dist/ml-levenberg-marquardt.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jstat/1.9.5/jstat.min.js"></script>

 <!---<body style="margin:0; padding:0;">--->


    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .container { display: flex; justify-content: space-between; align-items: flex-start; }
        #grafico { width: 55%; height: 500px; }
        #editor-container { width: 40%; }
        #editor { width: 100%; height: 350px; border: 1px solid #ccc; }

.header-bar {
    width: 100%;
    height: 30px; 
    background: linear-gradient(to right, #F5F5DC, #EDEAE0); 
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    font-weight: bold;
    color: #5a4a42; /
    letter-spacing: 2px;
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1); 
    margin-bottom: 40px;  
}



.license-info {
  font-size: 12px;
  color: gray;
  font-family: Arial, sans-serif;
  opacity: 0.8;
  text-align: center;
  margin: 30px auto 10px auto;
}


#toggleTheme {
  position: relative;
  background: none;
  border: none;
  font-size: 22px;
  cursor: pointer;
  margin: -2px 0 0 10px; /* margem superior e esquerda */
  display: inline-block;
  z-index: 10;
}



.dev-info {
    position: absolute;
    top: 3px; 
    left: 10px; 
    font-size: 13px !important; 
    color: #999; 
    font-family: Arial, sans-serif;
}

.dev-info a {
    text-decoration: none;
    color: #888; 
    font-weight: bold;
}
.dev-info a:hover {
    text-decoration: underline;
    color: #666; /
}

       
.button-container { 
    display: flex; 
    gap: 10px; 
    margin-top: 10px; 

  position: relative;
  z-index: 10;
}

button { 
    padding: 10px; 
    cursor: pointer; 
    border: none; 
    font-size: 14px; 
    border-radius: 5px; 
    transition: background 0.3s ease-in-out; 
}


/* BotÃ£o base */
button {
  padding: 10px;
  cursor: pointer;
  font-size: 14px;
  border-radius: 8px;
  border: 2px solid transparent;
  transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
}

.add-btn {
  background: #e2f6e9;
  color: #207a44;
  border-color: #b1e2c3;
}
.add-btn:hover {
  background: #ccf0dd;
  transform: scale(1.05);
  box-shadow: 0 0 6px rgba(50, 150, 100, 0.3);
}

.remove-btn {
  background: #fff8c6;
  color: #887200;
  border-color: #f0dc7d;
}
.remove-btn:hover {
  background: #fdf2a8;
  transform: scale(1.05);
  box-shadow: 0 0 6px rgba(200, 180, 20, 0.3);
}

.reset-btn {
  background: #fce1e1;
  color: #b42c2c;
  border-color: #f4b6b6;
}
.reset-btn:hover {
  background: #f8caca;
  transform: scale(1.05);
  box-shadow: 0 0 6px rgba(200, 50, 50, 0.3);
}

.save-btn {
  background: #fff1db;
  color: #8a4b00;
  border-color: #ffd9a2;
}
.save-btn:hover {
  background: #ffe1ba;
  transform: scale(1.05);
  box-shadow: 0 0 6px rgba(200, 120, 30, 0.3);
}

.clear-btn {
  background: #f99;
  color: white;
  border-color: #d33;
}
.clear-btn:hover {
  background: #e55;
  transform: scale(1.05);
  box-shadow: 0 0 6px rgba(255, 80, 80, 0.5);
}

.save-html-btn {
  background: #e6f1fb;
  color: #125a8f;
  border-color: #a8d0f0;
}
.save-html-btn:hover {
  background: #d2e9fc;
  transform: scale(1.05);
  box-shadow: 0 0 6px rgba(50, 100, 200, 0.3);
}


.author-info { position: absolute; top: 60px; right: 20px; font-size: 14px; color: gray; }
.logo { position: fixed; bottom: 10px; right: 20px; width: 100px; z-index: 10;} 
.ascii-logo {
 position: fixed;
 bottom: 10px;
 right: 20px;
 font-family: monospace;
 font-size: 2px;
 white-space: pre;
 text-align: right;
 z-index: 10; 
 }
 
.save-project-btn {
  background: linear-gradient(to bottom, #f3e6ff, #d3bdf0);
  color: #5e2d91;
  font-weight: normal;
  border: 2px solid #b48ce3;
  border-radius: 8px;
  box-shadow: 0 0 6px rgba(140, 90, 200, 0.4);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.save-project-btn:hover {
  background: linear-gradient(to bottom, #e7d4ff, #c9aee8);
  transform: scale(1.05);
  box-shadow: 0 0 8px rgba(120, 60, 180, 0.5);
}


</style>


<style>
  @media (max-width: 768px) {
    .container {
      flex-direction: column;
      align-items: stretch;
    }

    #grafico {
      width: 100% !important;
      height: 300px !important;
    }

    #editor-container {
      width: 100% !important;
    }

    #editor {
      height: 300px !important;
    }

    .button-container {
      flex-direction: column;
      gap: 8px;
    
  position: relative;
  z-index: 10;
}

    button {
      width: 100%;
      font-size: 16px;
    }

    .header-bar {
      font-size: 16px;
    }

    .popup {
      width: 90%;
    }

    .external-link {
      position: relative;
      top: auto;
      right: auto;
      margin-top: 10px;
      text-align: right;
    }
  }
</style>


<style>
  body.dark-mode {
    background-color: #1e1e1e;
    color: #e0e0e0;
  }

  body.dark-mode .header-bar {
    background: linear-gradient(to right, #2e2e2e, #1a1a1a);
    color: #f0f0f0;
  }

  body.dark-mode .button-container button {
    background: #333 !important;
    color: #ddd !important;
  }

  body.dark-mode .clear-btn {
    background-color: #a71d2a !important;
    color: white !important;
  }

  body.dark-mode #editor {
    background-color: #1e1e1e;
    color: #e0e0e0;
  }

  body.dark-mode .popup {
    background-color: #2b2b2b;
    color: #eee;
  }
  
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/theme-github.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/mode-javascript.js"></script><style id="plotly.js-style-modebar-c65762"></style></head>


<body>
<div class="header-bar" style="display: flex; align-items: center; justify-content: space-between; padding: 4px 10px;">
  <button id="toggleTheme" onclick="alternarTema()" style="font-size: 18px; background: none; border: none; cursor: pointer;">
    ðŸŒ™
  </button>

  <div style="flex: 1; text-align: center; font-weight: bold; font-size: 16px;">
    JSPlotly - Interactive Graphics
  </div>

  <div style="width: 30px;"><!-- espaÃ§o vazio para equilibrar com o botÃ£o da esquerda --></div>
</div>



<div class="external-link">
  <a href="https://bioquanti.netlify.app/" target="_blank">ðŸ”— Bioquanti</a>  
</div>



<div class="dev-info">
    Developed with 
    <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript" target="_blank">JavaScript</a> 
    and 
    <a href="https://plotly.com/javascript/" target="_blank">Plotly.js</a>
</div>

<div class="container" style="position: relative;">

 <div id="grafico" class="js-plotly-plot"><div class="plot-container plotly"><div class="user-select-none svg-container" style="position: relative; width: 100%; height: 100%;"><svg class="main-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="804.417" height="500" style="background: rgb(255, 255, 255);"><defs id="defs-c65762"><g class="clips"><clipPath id="clipc65762xyplot" class="plotclip"><rect width="744" height="450"></rect></clipPath><clipPath class="axesclip" id="clipc65762x"><rect x="50" y="0" width="744" height="500"></rect></clipPath><clipPath class="axesclip" id="clipc65762y"><rect x="0" y="10" width="804.417" height="450"></rect></clipPath><clipPath class="axesclip" id="clipc65762xy"><rect x="50" y="10" width="744" height="450"></rect></clipPath></g><g class="gradients"></g><g class="patterns"></g></defs><g class="bglayer"></g><g class="draglayer cursor-crosshair"><g class="xy"><rect class="nsewdrag drag cursor-pointer" style="fill: transparent; stroke-width: 0px; pointer-events: all;" data-subplot="xy" x="50" y="10" width="744" height="450"></rect><rect class="nwdrag drag cursor-pointer" style="fill: transparent; stroke-width: 0px; pointer-events: none;" data-subplot="xy" x="30" y="-10" width="20" height="20"></rect><rect class="nedrag drag cursor-pointer" style="fill: transparent; stroke-width: 0px; pointer-events: none;" data-subplot="xy" x="794" y="-10" width="20" height="20"></rect><rect class="swdrag drag cursor-pointer" style="fill: transparent; stroke-width: 0px; pointer-events: none;" data-subplot="xy" x="30" y="460" width="20" height="20"></rect><rect class="sedrag drag cursor-pointer" style="fill: transparent; stroke-width: 0px; pointer-events: none;" data-subplot="xy" x="794" y="460" width="20" height="20"></rect><rect class="ewdrag drag cursor-pointer" style="fill: transparent; stroke-width: 0px; pointer-events: none;" data-subplot="xy" x="124.4" y="460.5" width="595.2" height="20"></rect><rect class="wdrag drag cursor-pointer" style="fill: transparent; stroke-width: 0px; pointer-events: none;" data-subplot="xy" x="50" y="460.5" width="74.4" height="20"></rect><rect class="edrag drag cursor-pointer" style="fill: transparent; stroke-width: 0px; pointer-events: none;" data-subplot="xy" x="719.6" y="460.5" width="74.4" height="20"></rect><rect class="nsdrag drag cursor-pointer" style="fill: transparent; stroke-width: 0px; pointer-events: none;" data-subplot="xy" x="29.5" y="55" width="20" height="360"></rect><rect class="sdrag drag cursor-pointer" style="fill: transparent; stroke-width: 0px; pointer-events: none;" data-subplot="xy" x="29.5" y="415" width="20" height="45"></rect><rect class="ndrag drag cursor-pointer" style="fill: transparent; stroke-width: 0px; pointer-events: none;" data-subplot="xy" x="29.5" y="10" width="20" height="45"></rect></g></g><g class="layer-below"><g class="imagelayer"></g><g class="shapelayer"></g></g><g class="cartesianlayer"><g class="subplot xy"><g class="layer-subplot"><g class="shapelayer"></g><g class="imagelayer"></g></g><g class="minor-gridlayer"><g class="x"></g><g class="y"></g></g><g class="gridlayer"><g class="x"><path class="xgrid crisp" transform="translate(198.8,0)" d="M0,10v450" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"></path><path class="xgrid crisp" transform="translate(347.6,0)" d="M0,10v450" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"></path><path class="xgrid crisp" transform="translate(496.4,0)" d="M0,10v450" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"></path><path class="xgrid crisp" transform="translate(645.2,0)" d="M0,10v450" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"></path></g><g class="y"><path class="ygrid crisp" transform="translate(0,403.75)" d="M50,0h744" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"></path><path class="ygrid crisp" transform="translate(0,347.5)" d="M50,0h744" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"></path><path class="ygrid crisp" transform="translate(0,291.25)" d="M50,0h744" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"></path><path class="ygrid crisp" transform="translate(0,178.75)" d="M50,0h744" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"></path><path class="ygrid crisp" transform="translate(0,122.5)" d="M50,0h744" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"></path><path class="ygrid crisp" transform="translate(0,66.25)" d="M50,0h744" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"></path></g></g><g class="zerolinelayer"><path class="xzl zl crisp" transform="translate(50,0)" d="M0,10v450" style="stroke: rgb(68, 68, 68); stroke-opacity: 1; stroke-width: 1px;"></path><path class="yzl zl crisp" transform="translate(0,235)" d="M50,0h744" style="stroke: rgb(68, 68, 68); stroke-opacity: 1; stroke-width: 1px;"></path></g><path class="xlines-below"></path><path class="ylines-below"></path><g class="overlines-below"></g><g class="xaxislayer-below"></g><g class="yaxislayer-below"></g><g class="overaxes-below"></g><g class="plot" transform="translate(50,10)" clip-path="url(#clipc65762xyplot)"></g><g class="overplot"></g><path class="xlines-above crisp" style="fill: none;" d="M0,0"></path><path class="ylines-above crisp" style="fill: none;" d="M0,0"></path><g class="overlines-above"></g><g class="xaxislayer-above"><g class="xtick"><text text-anchor="middle" x="0" y="473" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" data-unformatted="0" data-math="N" transform="translate(50,0)">0</text></g><g class="xtick"><text text-anchor="middle" x="0" y="473" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" data-unformatted="2" data-math="N" transform="translate(198.8,0)">2</text></g><g class="xtick"><text text-anchor="middle" x="0" y="473" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" data-unformatted="4" data-math="N" transform="translate(347.6,0)">4</text></g><g class="xtick"><text text-anchor="middle" x="0" y="473" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" data-unformatted="6" data-math="N" transform="translate(496.4,0)">6</text></g><g class="xtick"><text text-anchor="middle" x="0" y="473" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" data-unformatted="8" data-math="N" transform="translate(645.2,0)">8</text></g><g class="xtick"><text text-anchor="middle" x="0" y="473" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" data-unformatted="10" data-math="N" transform="translate(794,0)">10</text></g></g><g class="yaxislayer-above"><g class="ytick"><text text-anchor="end" x="49" y="4.199999999999999" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" data-unformatted="âˆ’20" data-math="N" transform="translate(0,460)">âˆ’20</text></g><g class="ytick"><text text-anchor="end" x="49" y="4.199999999999999" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" data-unformatted="âˆ’15" data-math="N" transform="translate(0,403.75)">âˆ’15</text></g><g class="ytick"><text text-anchor="end" x="49" y="4.199999999999999" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" data-unformatted="âˆ’10" data-math="N" transform="translate(0,347.5)">âˆ’10</text></g><g class="ytick"><text text-anchor="end" x="49" y="4.199999999999999" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" data-unformatted="âˆ’5" data-math="N" transform="translate(0,291.25)">âˆ’5</text></g><g class="ytick"><text text-anchor="end" x="49" y="4.199999999999999" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" data-unformatted="0" data-math="N" transform="translate(0,235)">0</text></g><g class="ytick"><text text-anchor="end" x="49" y="4.199999999999999" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" data-unformatted="5" data-math="N" transform="translate(0,178.75)">5</text></g><g class="ytick"><text text-anchor="end" x="49" y="4.199999999999999" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" data-unformatted="10" data-math="N" transform="translate(0,122.5)">10</text></g><g class="ytick"><text text-anchor="end" x="49" y="4.199999999999999" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 1;" data-unformatted="15" data-math="N" transform="translate(0,66.25)">15</text></g><g class="ytick"><text text-anchor="end" x="49" y="4.199999999999999" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre; opacity: 0;" data-unformatted="20" data-math="N" transform="translate(0,10)">20</text></g></g><g class="overaxes-above"></g></g></g><g class="polarlayer"></g><g class="smithlayer"></g><g class="ternarylayer"></g><g class="geolayer"></g><g class="funnelarealayer"></g><g class="pielayer"></g><g class="iciclelayer"></g><g class="treemaplayer"></g><g class="sunburstlayer"></g><g class="glimages"></g></svg><div class="gl-container"></div><svg class="main-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="804.417" height="500"><defs id="topdefs-c65762"><g class="clips"></g></defs><g class="indicatorlayer"></g><g class="layer-above"><g class="imagelayer"></g><g class="shapelayer"></g></g><g class="selectionlayer"></g><g class="infolayer"><g class="g-gtitle"></g><g class="g-xtitle" transform="translate(0,-17.500137329101562)"><text class="xtitle" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 14px; fill: rgb(68, 68, 68); opacity: 1; font-weight: normal; white-space: pre;" x="422" y="512" text-anchor="middle" data-unformatted="tempo (s)" data-math="N">tempo (s)</text></g><g class="g-ytitle" transform="translate(4.5166015625,0)"><text class="ytitle" transform="rotate(-90,12,235)" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 14px; fill: rgb(68, 68, 68); opacity: 1; font-weight: normal; white-space: pre;" x="12" y="235" text-anchor="middle" data-unformatted="aceleracao" data-math="N">aceleracao</text></g></g><g class="menulayer"></g><g class="zoomlayer"></g></svg><div class="modebar-container" style="position: absolute; top: 0px; right: 0px; width: 100%;"><div id="modebar-c65762" class="modebar"><div class="modebar-group"><a rel="tooltip" class="modebar-btn" data-title="Download plot as a png" data-toggle="false" data-gravity="n"><svg viewBox="0 0 1000 1000" class="icon" height="1em" width="1em"><path d="m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z" transform="matrix(1 0 0 -1 0 850)"></path></svg></a></div><div class="modebar-group"><a href="https://plotly.com/" target="_blank" data-title="Produced with Plotly.js (v2.20.0)" class="modebar-btn plotlyjsicon modebar-btn--logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 132 132" height="1em" width="1em"><defs> <style>  .cls-0{fill:#000;}  .cls-1{fill:#FFF;}  .cls-2{fill:#F26;}  .cls-3{fill:#D69;}  .cls-4{fill:#BAC;}  .cls-5{fill:#9EF;} </style></defs> <title>plotly-logomark</title> <g id="symbol">  <rect class="cls-0" x="0" y="0" width="132" height="132" rx="18" ry="18"></rect>  <circle class="cls-5" cx="102" cy="30" r="6"></circle>  <circle class="cls-4" cx="78" cy="30" r="6"></circle>  <circle class="cls-4" cx="78" cy="54" r="6"></circle>  <circle class="cls-3" cx="54" cy="30" r="6"></circle>  <circle class="cls-2" cx="30" cy="30" r="6"></circle>  <circle class="cls-2" cx="30" cy="54" r="6"></circle>  <path class="cls-1" d="M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z"></path>  <path class="cls-1" d="M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z"></path>  <path class="cls-1" d="M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z"></path>  <path class="cls-1" d="M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z"></path> </g></svg></a></div></div></div><svg class="main-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="804.417" height="500"><g class="hoverlayer"></g></svg></div></div></div>

<div id="popup" class="popup">
    <p>Save as:</p>
    <button onclick="salvarImagem('png')">PNG</button>
    <button onclick="salvarImagem('svg')">SVG</button>
    <button onclick="fecharPopup()">Cancelar</button>
</div>

<style>
.popup {
    display: none;
    position: fixed;
    top: 40%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: white;
    border: 1px solid #ccc;
    padding: 20px;
    box-shadow: 0 0 10px rgba(0,0,0,0.3);
    z-index: 1000;
}
.popup button {
    margin: 5px;
    padding: 8px;
}

.external-link {  
  position: absolute;
  top: 30px;
  right: 20px;
  font-size: 14px;
  font-family: Arial, sans-serif;
}

.external-link a {
  color: #333;
  text-decoration: none;
  font-weight: bold;
}

.external-link a:hover {
  text-decoration: underline;
  color: #0077cc;
}

.save-html-btn {
  background: linear-gradient(to bottom, #dff0f7, #add9e6);
  color: #004b66;
  font-weight: normal;
  border: 2px solid #66b8d4;
  border-radius: 8px;
  box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.save-html-btn:hover {
  background: linear-gradient(to bottom, #c4ecff, #8fd3ec);
  transform: scale(1.05);
  box-shadow: 0 0 8px rgba(0, 123, 255, 0.8);
}


</style>

  <div id="editor-container">
  

<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
  <input type="file" id="fileInput" accept=".js" onchange="carregarEquacaoAuto(event)">
  
  <span style="font-size: 13px; font-family: Arial, sans-serifbioq; color: #2e7d57; text-align: right;">
    For easy code construction, try 
    <a href="https://chatgpt.com/g/g-6819fbb8d2d08191bf7d50a3dbeadb0d-gsplotly" target="_blank" style="color: #2e7d57 !important; font-weight: bold; text-decoration: underline;">
      GSPlotly
    </a>
  </span>
</div>





       <div id="editor" class=" ace_editor ace_hidpi ace-github" style="font-size: 14px;"><textarea class="ace_text-input" wrap="off" autocorrect="off" autocapitalize="none" spellcheck="false" style="opacity: 0; font-size: 1px; height: 1px; width: 1px; transform: translate(0px);"></textarea><div class="ace_gutter" aria-hidden="true" style="left: 0px; width: 57px;"><div class="ace_layer ace_gutter-layer ace_folding-enabled" style="height: 1000000px; transform: translate(0px, -4315px); width: 57px;"><div class="ace_gutter-cell " style="height: 30px; top: 4305px;">222<span style="display: none;"></span></div><div class="ace_gutter-cell " style="height: 30px; top: 4335px;">223<span style="display: none;"></span></div><div class="ace_gutter-cell " style="height: 15px; top: 4365px;">224<span style="display: none;"></span></div><div class="ace_gutter-cell " style="height: 15px; top: 4380px;">225<span style="display: inline-block; height: 15px;" class="ace_fold-widget ace_start ace_open"></span></div><div class="ace_gutter-cell " style="height: 30px; top: 4395px;">226<span style="display: none;"></span></div><div class="ace_gutter-cell " style="height: 30px; top: 4425px;">227<span style="display: none;"></span></div><div class="ace_gutter-cell " style="height: 15px; top: 4455px;">228<span style="display: none;"></span></div><div class="ace_gutter-cell " style="height: 15px; top: 4470px;">229<span style="display: none;"></span></div><div class="ace_gutter-cell " style="height: 15px; top: 4485px;">230<span class="ace_fold-widget ace_start ace_open" style="height: 15px; display: none;"></span></div><div class="ace_gutter-cell " style="height: 15px; top: 4500px;">231<span style="display: none;"></span></div><div class="ace_gutter-cell " style="height: 15px; top: 4515px;">232<span style="display: none;"></span></div><div class="ace_gutter-cell " style="height: 15px; top: 4530px;">233<span style="display: none;"></span></div><div class="ace_gutter-cell " style="height: 15px; top: 4545px;">234<span style="display: inline-block; height: 15px;" class="ace_fold-widget ace_start ace_open"></span></div><div class="ace_gutter-cell " style="height: 30px; top: 4560px;">235<span style="display: none;"></span></div><div class="ace_gutter-cell " style="height: 30px; top: 4590px;">236<span style="display: none;"></span></div><div class="ace_gutter-cell " style="height: 15px; top: 4620px;">237<span style="display: none;"></span></div><div class="ace_gutter-cell " style="height: 15px; top: 4635px;">238<span style="display: none;"></span></div><div class="ace_gutter-cell " style="height: 15px; top: 4650px;">239<span style="display: none;"></span></div><div class="ace_gutter-cell " style="height: 15px; top: 4665px;">240<span style="display: none;"></span></div><div class="ace_gutter-cell " style="height: 15px; top: 4680px;">241<span style="display: none;"></span></div></div></div><div class="ace_scroller" style="line-height: 15px; left: 56.5547px; right: 0px; bottom: 0px;"><div class="ace_content" style="transform: translate(0px, -10px); width: 528.445px; height: 395px;"><div class="ace_layer ace_print-margin-layer"><div class="ace_print-margin" style="left: 632px; visibility: hidden;"></div></div><div class="ace_layer ace_marker-layer"></div><div class="ace_layer ace_text-layer" style="height: 1000000px; margin: 0px 4px; transform: translate(0px, -4305px);"><div style="height: 30px; top: 4305px;" class="ace_line_group"><div class="ace_line" style="height: 15px;"><span class="ace_indent-guide">    </span>  <span class="ace_identifier">traces</span><span class="ace_punctuation ace_operator">.</span><span class="ace_support ace_function">push</span><span class="ace_paren ace_lparen">({</span><span class="ace_identifier">x</span><span class="ace_punctuation ace_operator">:</span><span class="ace_identifier">tt</span><span class="ace_punctuation ace_operator">.</span><span class="ace_support ace_function">slice</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">,</span><span class="ace_identifier">y</span><span class="ace_punctuation ace_operator">:</span><span class="ace_identifier">az</span><span class="ace_punctuation ace_operator">.</span><span class="ace_support ace_function">slice</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">,</span>  <span class="ace_identifier">mode</span><span class="ace_punctuation ace_operator">:</span><span class="ace_string">"lines"</span><span class="ace_punctuation ace_operator">,</span><span class="ace_identifier">name</span></div><div class="ace_line" style="height: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ace_punctuation ace_operator">:</span><span class="ace_string">"snap "</span><span class="ace_keyword ace_operator">+</span><span class="ace_identifier">k</span><span class="ace_keyword ace_operator">+</span><span class="ace_string">" az"</span><span class="ace_punctuation ace_operator">,</span><span class="ace_identifier">line</span><span class="ace_punctuation ace_operator">:</span><span class="ace_paren ace_lparen">{</span><span class="ace_identifier">dash</span><span class="ace_punctuation ace_operator">:</span><span class="ace_string">"dash"</span><span class="ace_paren ace_rparen">}})</span><span class="ace_punctuation ace_operator">;</span></div></div><div style="height: 30px; top: 4335px;" class="ace_line_group"><div class="ace_line" style="height: 15px;"><span class="ace_indent-guide">    </span>  <span class="ace_identifier">traces</span><span class="ace_punctuation ace_operator">.</span><span class="ace_support ace_function">push</span><span class="ace_paren ace_lparen">({</span><span class="ace_identifier">x</span><span class="ace_punctuation ace_operator">:</span><span class="ace_identifier">tt</span><span class="ace_punctuation ace_operator">.</span><span class="ace_support ace_function">slice</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">,</span><span class="ace_identifier">y</span><span class="ace_punctuation ace_operator">:</span><span class="ace_identifier">amag</span><span class="ace_punctuation ace_operator">.</span><span class="ace_support ace_function">slice</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">,</span><span class="ace_identifier">mode</span><span class="ace_punctuation ace_operator">:</span><span class="ace_string">"lines"</span><span class="ace_punctuation ace_operator">,</span><span class="ace_identifier">name</span></div><div class="ace_line" style="height: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ace_punctuation ace_operator">:</span><span class="ace_string">"snap "</span><span class="ace_keyword ace_operator">+</span><span class="ace_identifier">k</span><span class="ace_keyword ace_operator">+</span><span class="ace_string">" |a|"</span><span class="ace_punctuation ace_operator">,</span><span class="ace_identifier">line</span><span class="ace_punctuation ace_operator">:</span><span class="ace_paren ace_lparen">{</span><span class="ace_identifier">width</span><span class="ace_punctuation ace_operator">:</span><span class="ace_constant ace_numeric">2</span><span class="ace_paren ace_rparen">}})</span><span class="ace_punctuation ace_operator">;</span></div></div><div style="height: 15px; top: 4365px;" class="ace_line_group"><div class="ace_line" style="height: 15px;"><span class="ace_indent-guide">    </span>  <span class="ace_identifier">tip</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">"Snapshot (4 canais) adicionado"</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span></div></div><div style="height: 15px; top: 4380px;" class="ace_line_group"><div class="ace_line" style="height: 15px;">    <span class="ace_paren ace_rparen">}</span><span class="ace_keyword">else</span><span class="ace_paren ace_lparen">{</span></div></div><div style="height: 30px; top: 4395px;" class="ace_line_group"><div class="ace_line" style="height: 15px;"><span class="ace_indent-guide">    </span>  <span class="ace_identifier">traces</span><span class="ace_punctuation ace_operator">.</span><span class="ace_support ace_function">push</span><span class="ace_paren ace_lparen">({</span><span class="ace_identifier">x</span><span class="ace_punctuation ace_operator">:</span><span class="ace_identifier">tt</span><span class="ace_punctuation ace_operator">.</span><span class="ace_support ace_function">slice</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">,</span><span class="ace_identifier">y</span><span class="ace_punctuation ace_operator">:</span><span class="ace_identifier">amag</span><span class="ace_punctuation ace_operator">.</span><span class="ace_support ace_function">slice</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">,</span><span class="ace_identifier">mode</span><span class="ace_punctuation ace_operator">:</span><span class="ace_string">"lines"</span><span class="ace_punctuation ace_operator">,</span><span class="ace_identifier">name</span></div><div class="ace_line" style="height: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ace_punctuation ace_operator">:</span><span class="ace_string">"snapshot "</span><span class="ace_keyword ace_operator">+</span><span class="ace_identifier">k</span><span class="ace_keyword ace_operator">+</span><span class="ace_string">" (|a|)"</span><span class="ace_punctuation ace_operator">,</span><span class="ace_identifier">line</span><span class="ace_punctuation ace_operator">:</span><span class="ace_paren ace_lparen">{</span><span class="ace_identifier">width</span><span class="ace_punctuation ace_operator">:</span><span class="ace_constant ace_numeric">2</span><span class="ace_paren ace_rparen">}</span><span class="ace_punctuation ace_operator">,</span></div></div><div style="height: 30px; top: 4425px;" class="ace_line_group"><div class="ace_line" style="height: 15px;"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>   <span class="ace_identifier">hovertemplate</span><span class="ace_punctuation ace_operator">:</span><span class="ace_string">"t=%{x:.2f}s&lt;br&gt;|a|=%{y:.2f}</span></div><div class="ace_line" style="height: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ace_string">&lt;extra&gt;snapshot&lt;/extra&gt;"</span><span class="ace_paren ace_rparen">})</span><span class="ace_punctuation ace_operator">;</span></div></div><div style="height: 15px; top: 4455px;" class="ace_line_group"><div class="ace_line" style="height: 15px;"><span class="ace_indent-guide">    </span>  <span class="ace_identifier">tip</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">"Snapshot (|a|) adicionado"</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span></div></div><div style="height: 15px; top: 4470px;" class="ace_line_group"><div class="ace_line" style="height: 15px;">    <span class="ace_paren ace_rparen">}</span></div></div><div style="height: 15px; top: 4485px;" class="ace_line_group"><div class="ace_line" style="height: 15px;">    <span class="ace_identifier">Plotly</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">addTraces</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">plot</span><span class="ace_punctuation ace_operator">,</span><span class="ace_identifier">traces</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span></div></div><div style="height: 15px; top: 4500px;" class="ace_line_group"><div class="ace_line" style="height: 15px;">    <span class="ace_keyword">return</span> <span class="ace_constant ace_language ace_boolean">true</span><span class="ace_punctuation ace_operator">;</span></div></div><div style="height: 15px; top: 4515px;" class="ace_line_group"><div class="ace_line" style="height: 15px;">  <span class="ace_paren ace_rparen">}</span></div></div><div style="height: 15px; top: 4530px;" class="ace_line_group"><div class="ace_line" style="height: 15px;">  <span class="ace_variable ace_language">window</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">_codigoAddImpl</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">snapshot</span><span class="ace_punctuation ace_operator">;</span></div></div><div style="height: 15px; top: 4545px;" class="ace_line_group"><div class="ace_line" style="height: 15px;">  <span class="ace_keyword">try</span><span class="ace_paren ace_lparen">{</span></div></div><div style="height: 30px; top: 4560px;" class="ace_line_group"><div class="ace_line" style="height: 15px;">    <span class="ace_keyword">if</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable ace_language">window</span><span class="ace_punctuation ace_operator">.</span><span class="ace_support ace_constant">parent</span> <span class="ace_keyword ace_operator">&amp;&amp;</span> <span class="ace_variable ace_language">window</span><span class="ace_punctuation ace_operator">.</span><span class="ace_support ace_constant">parent</span><span class="ace_keyword ace_operator">!==</span><span class="ace_variable ace_language">window</span><span class="ace_paren ace_rparen">)</span> <span class="ace_variable ace_language">window</span><span class="ace_punctuation ace_operator">.</span><span class="ace_support ace_constant">parent</span></div><div class="ace_line" style="height: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">_codigoAddImpl</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">snapshot</span><span class="ace_punctuation ace_operator">;</span></div></div><div style="height: 30px; top: 4590px;" class="ace_line_group"><div class="ace_line" style="height: 15px;">    <span class="ace_keyword">if</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable ace_language">window</span><span class="ace_punctuation ace_operator">.</span><span class="ace_support ace_constant">top</span>    <span class="ace_keyword ace_operator">&amp;&amp;</span> <span class="ace_variable ace_language">window</span><span class="ace_punctuation ace_operator">.</span><span class="ace_support ace_constant">top</span><span class="ace_keyword ace_operator">!==</span><span class="ace_variable ace_language">window</span><span class="ace_paren ace_rparen">)</span>    <span class="ace_variable ace_language">window</span><span class="ace_punctuation ace_operator">.</span><span class="ace_support ace_constant">top</span></div><div class="ace_line" style="height: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">_codigoAddImpl</span>    <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">snapshot</span><span class="ace_punctuation ace_operator">;</span></div></div><div style="height: 15px; top: 4620px;" class="ace_line_group"><div class="ace_line" style="height: 15px;">  <span class="ace_paren ace_rparen">}</span><span class="ace_keyword">catch</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">_</span><span class="ace_paren ace_rparen">)</span><span class="ace_paren ace_lparen">{</span><span class="ace_paren ace_rparen">}</span></div></div><div style="height: 15px; top: 4635px;" class="ace_line_group"><div class="ace_line" style="height: 15px;"></div></div><div style="height: 15px; top: 4650px;" class="ace_line_group"><div class="ace_line" style="height: 15px;">  <span class="ace_comment">// ---- estado inicial garantido</span></div></div><div style="height: 15px; top: 4665px;" class="ace_line_group"><div class="ace_line" style="height: 15px;">  <span class="ace_identifier">el</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">start</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">disabled</span><span class="ace_keyword ace_operator">=</span><span class="ace_constant ace_language ace_boolean">false</span><span class="ace_punctuation ace_operator">;</span> <span class="ace_identifier">el</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">stop</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">disabled</span><span class="ace_keyword ace_operator">=</span><span class="ace_constant ace_language ace_boolean">true</span><span class="ace_punctuation ace_operator">;</span></div></div></div><div class="ace_layer ace_marker-layer"></div><div class="ace_layer ace_cursor-layer ace_hidden-cursors"><div class="ace_cursor" style="display: block; transform: translate(4px, 450px); width: 8px; height: 15px; animation-duration: 1000ms;"></div></div></div></div><div class="ace_scrollbar ace_scrollbar-v" style="width: 20px; bottom: 0px;"><div class="ace_scrollbar-inner" style="width: 20px; height: 4770px;">&nbsp;</div></div><div class="ace_scrollbar ace_scrollbar-h" style="display: none; height: 20px; left: 56.5547px; right: 0px;"><div class="ace_scrollbar-inner" style="height: 20px; width: 544px;">&nbsp;</div></div><div style="height: auto; width: auto; top: 0px; left: 0px; visibility: hidden; position: absolute; white-space: pre; font: inherit; overflow: hidden;"><div style="height: auto; width: auto; top: 0px; left: 0px; visibility: hidden; position: absolute; white-space: pre; font: inherit; overflow: visible;">×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”×”</div><div style="height: auto; width: auto; top: 0px; left: 0px; visibility: hidden; position: absolute; white-space: pre; font-style: inherit; font-variant: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; font-size-adjust: inherit; font-kerning: inherit; font-optical-sizing: inherit; font-language-override: inherit; font-feature-settings: inherit; font-variation-settings: inherit; overflow: visible;">XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</div></div></div>
       <div class="button-container">
       <button class="add-btn" onclick="adicionarCurva()">add</button>
       <button class="remove-btn" onclick="removerUltimaCurva()">remove</button>
       <button class="clear-btn" onclick="resetarGrafico()">clean</button> 
       <button class="reset-btn" onclick="limparEditor()">delete</button>
     <!---  <button class="save-html-btn" onclick="salvarHTML()">html</button> --->             
       <button class="save-btn" onclick="salvarEquacao()">script</button> 
       <button class="save-html-btn" onclick="salvarProjetoSomenteGrafico()">html</button>
    <!---<button class="save-html-btn" onclick="salvarProjetoCompleto()">save project</button> --->
       <button class="save-project-btn" onclick="salvarCloneJSPlotly()">clone</button>
       
    
  </div>
</div>
    <div id="accel-ui" style="position: absolute; z-index: 9999; top: 8px; left: 8px; background: rgba(255, 255, 255, 0.95); padding: 6px 8px; border-radius: 12px; display: flex; gap: 8px; align-items: center; flex-wrap: wrap; box-shadow: rgba(0, 0, 0, 0.15) 0px 2px 6px; font: 14px system-ui, -apple-system, Segoe UI, Roboto; pointer-events: auto;"><button id="accel-start" style="pointer-events: auto;">Start</button><button id="accel-stop" disabled="" style="pointer-events: auto;">Stop</button><label style="pointer-events: auto;">Janela: <input id="accel-buf" type="number" min="50" max="5000" value="512" style="width: 80px; pointer-events: auto;"></label><label style="pointer-events: auto;">Hz: <input id="accel-hz" type="number" min="1" max="60" value="25" style="width: 70px; pointer-events: auto;"></label><label style="user-select: none; pointer-events: auto;"><input id="accel-demo" type="checkbox" style="pointer-events: auto;"> Demo</label><label style="user-select: none; pointer-events: auto;"><input id="accel-all" type="checkbox" style="pointer-events: auto;"> Add 4 canais</label><button id="accel-testadd" title="chama window.codigoAdd()" style="pointer-events: auto;">Teste Add</button><a id="accel-unlock" href="#" style="text-decoration: none; border: 1px solid rgb(204, 204, 204); border-radius: 8px; padding: 2px 6px; pointer-events: auto;">Desbloquear Start</a><span id="accel-msg" style="font-size: 12px; opacity: 0.9; color: rgb(51, 51, 51); margin-left: 4px; pointer-events: auto;"></span></div><div id="accel-badge" style="position: absolute; top: 8px; right: 8px; z-index: 10000; font: 12px system-ui; background: rgba(0, 0, 0, 0.55); color: rgb(255, 255, 255); padding: 4px 8px; border-radius: 8px; pointer-events: none;">secure? sim Â· iframe? nao Â· DM:0/s DO:0/s</div></div>
    
    
<script>
 var curvas = [];
 var cores = ["red", "blue", "green", "purple", "orange", "brown", "pink", "gray"];
 var corIndex = 0;
 var editor = ace.edit("editor");
 editor.setTheme("ace/theme/github");
 editor.session.setMode("ace/mode/javascript");
 editor.session.setUseWrapMode(true);
 editor.setOptions({
  fontSize: "14px",
  wrap: true,
  showPrintMargin: false
});



var customSaveButton = {
    name: 'PNG or SVG',
    icon: Plotly.Icons.disk,
    click: function(gd) {
        abrirPopup();
    }
};


var config = {
  modeBarButtonsToAdd: [
    'toggleSpikelines',
    'hoverCompareCartesian',
    'drawline',
    'drawopenpath',
    'drawrect',
    'drawcircle',
    //'eraseshape',
    customSaveButton,
    {
      name: 'change color',
      icon: Plotly.Icons.camera,
      click: function(gd) {
        const ultima = curvas.length - 1;
        const novaCor = cores[Math.floor(Math.random() * cores.length)];
        Plotly.restyle(gd, { 'line.color': novaCor }, [ultima]);
        curvas[ultima].line.color = novaCor;
      }
    },
  {
  name: 'Adicionar Texto',
  icon: {
    width: 1000,
    height: 1000,
    path: 'M200 800V160h600v80H540v560h-80V240H200z' // Ãcone simples em forma de "T"
  },
  click: function(gd) {
    // O clique no botÃ£o ativa o modo de anotaÃ§Ã£o
    const handler = function(eventData) {
      const x = eventData.points[0].x;
      const y = eventData.points[0].y;
      const texto = prompt("Digite o texto a ser inserido:");
      if (texto) {
        Plotly.relayout(gd, {
          annotations: (gd.layout.annotations || []).concat([{
            x: x,
            y: y,
            text: texto,
            showarrow: true,
            arrowhead: 2
          }])
        });
      }
      gd.removeListener('plotly_click', handler);
    };
    gd.on('plotly_click', handler);
  }
}
  ],
  showEditInChartStudio: true,
  plotlyServerURL: "https://chart-studio.plotly.com",
  displaylogo: false,
  displayModeBar: true,
  responsive: true,
  scrollZoom: true,
  editable: true,
  modeBarButtonsToRemove: [
    'select2d',
    'lasso2d',
    'resetScale2d',
    'zoomOut2d',
    'zoomIn2d',
    'toImage'
  ]
};
 

function executarCodigo() {
    try {
        var codigoUsuario = editor.getValue().trim();
        Plotly.purge('grafico'); 
        eval(codigoUsuario);
    } 

catch (error) {
           
    }
}

function limparGrafico() {
    Plotly.purge('grafico');
}

function carregarEquacaoAuto(event) {
 const file = event.target.files[0];
 if (file) {
   const reader = new FileReader();
         reader.onload = function(e) {
         editor.setValue(e.target.result, -1);
                 };
         reader.readAsText(file);
                 }
           }

function adicionarCurva() {
  const codigoUsuario = editor.getValue();

  let consoleSaida = [];
  const logOriginal = console.log;
  console.log = (...args) => {
    consoleSaida.push(args.map(arg => typeof arg === "object" ? JSON.stringify(arg) : String(arg)).join(" "));
  };

  let resultado;
  try {
    const func = new Function(codigoUsuario + "\nreturn typeof output !== 'undefined' ? output : undefined;");
    resultado = func();
  } catch (e1) {
    try {
      const func = new Function(codigoUsuario);
      resultado = func();
    } catch (e2) {
      console.log = logOriginal;
      alert("Erro ao executar o cÃ³digo:\n" + e2.message);
      return;
    }
  }

  console.log = logOriginal;
  if (!resultado) return;

  const texto = consoleSaida.map(l => "> " + l).join("<br>");
  const layout = resultado.layout || {};
  layout.annotations = layout.annotations || [];

  if (texto.trim()) {
    layout.annotations.push({
      text: `<div style="font-family: monospace; font-size: 14px; max-height: 200px; overflow-y: auto; background:#f9f9f9; padding:5px; border:1px solid #ccc;">${texto}</div>`,
      showarrow: false,
      xref: 'paper',
      yref: 'paper',
      x: 0,
      y: 1,
      align: 'left',
      xanchor: 'left',
      yanchor: 'top'
    });
  }




  let data = [];
  if (resultado.data) {
    data = resultado.data;
  } else if (resultado.trace) {
    data = [resultado.trace];
  } else if (resultado.traces) {
    data = resultado.traces;
  } else if (resultado.x_values && resultado.y_values) {
    data = [{
      x: resultado.x_values,
      y: resultado.y_values,
      type: 'scatter',
      mode: 'lines+markers',
      name: resultado.title || "Curva"
    }];
    if (resultado.x_range) layout.xaxis = { range: resultado.x_range, title: resultado.x_label || "" };
    if (resultado.y_range) layout.yaxis = { range: resultado.y_range, title: resultado.y_label || "" };
    layout.title = resultado.title || "";
  }

  curvas.push(...data);

  Plotly.newPlot("grafico", curvas, layout, config).then(() => {
    if (resultado.frames && resultado.frames.length > 0) {
      Plotly.addFrames("grafico", resultado.frames);
      Plotly.animate("grafico", null, {
        frame: { duration: 80, redraw: true },
        transition: { duration: 0 }
      });
    }
  });
}




function resetarGrafico() {
            curvas = [];
            corIndex = 0;
            Plotly.newPlot('grafico', [], {xaxis: { title: 'X' }, yaxis: {
          zeroline: true,
          zeroline: true, title: 'Y' } });
        }

function salvarEquacao() {
    var blob = new Blob([editor.getValue()], { type: "text/javascript" });
    var a = document.createElement("a");
        a.href = URL.createObjectURL(blob);
        a.download = "script.js";
        document.body.appendChild(a);
        a.click();
            document.body.removeChild(a);
       }

        

function salvarHTML() {
    var plotlyData = JSON.parse(JSON.stringify(curvas));
    var plotlyLayout = document.getElementById('grafico').layout;
    var htmlContent = '<!DOCTYPE html>\n' +
                '<html>\n' +
                '<head>\n' +
                '    <meta charset="UTF-8">\n' +
                '    <title>GrÃ¡fico Salvo</title>\n' +
                '    <script src="https://cdnjs.cloudflare.com/ajax/libs/plotly.js/2.20.0/plotly.min.js"><\/script>\n' +
                '</head>\n' +////
                '<body>\n' +
                '    <div id="grafico" style="width: 100%; height: 600px;"></div>\n' +
                '    <script>\n' +
                '        var data = ' + JSON.stringify(plotlyData) + ';\n' +
                '        var layout = ' + JSON.stringify(plotlyLayout) + ';\n' +
                '        Plotly.newPlot("grafico", data, layout);\n' +
                '    <\/script>\n' +
                '</body>\n' +
                '</html>';

function salvarAppCompleto() {
  const htmlBase = document.documentElement.outerHTML;
  const blob = new Blob([htmlBase], { type: "text/html" });
  const a = document.createElement("a");
  a.href = URL.createObjectURL(blob);
  a.download = "jsplotly_completo.html";
  a.click();
}


var blob = new Blob([htmlContent], { type: 'text/html' });
var a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
//    a.download = 'grafico_interativo.html';
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
        }

function limparEditor() {
    editor.setValue("", -1); 
    }

function removerUltimaCurva() {
    if (curvas.length > 0) {
    curvas.pop(); 
    atualizarGrafico(); 
        } else {
        alert("No curves to remove!");
      }
    }


function atualizarGrafico() {
    Plotly.newPlot('grafico', curvas, {
        title: 'GrÃ¡fico Interativo',
        xaxis: { title: 'X' },
        yaxis: {
          zeroline: true,
          zeroline: true, title: 'Y' },
        showlegend: true
    });
}

function abrirPopup() {
    document.getElementById('popup').style.display = 'block';
}

function fecharPopup() {
    document.getElementById('popup').style.display = 'none';
}

function salvarImagem(formato) {
    Plotly.downloadImage('grafico', {format: formato, filename: 'plot'});
    fecharPopup();
}


function limparTudo() {
   editor.setValue("", -1);
     let graficoDiv = document.getElementById("grafico");
     if (graficoDiv) {
            Plotly.newPlot("grafico", [], {
            xaxis: { title: "Eixo X" },
            yaxis: {
          zeroline: true,
          zeroline: true, title: "Eixo Y" }
        });
        graficoDiv.data = [];
    }
}


// Definir a equaÃ§Ã£o quadrÃ¡tica padrÃ£o
var codigoPadrao = `// === SHIM UNIVERSAL DO ADD (window/parent/top; sucesso => true) ===
(function(){
  function _dispatch(){ try{ if (typeof window._codigoAddImpl==="function") return !!window._codigoAddImpl(); }
    catch(e){ console.error("[codigoAdd] erro:", e); return false; }
    console.warn("[codigoAdd] impl ausente"); return false; }
  ["codigoAdd","codigoAddAll","codigoAddSerie","codigoAddSeries","codigoAddPlot","codigoAddJSPlotly","jsplotlyAdd","JSPlotlyAdd"]
    .forEach(n=>{ try{ if(typeof window[n]!=="function") window[n]=_dispatch; }catch(_){ } });
  try{
    [window.parent, window.top].forEach(ctx=>{
      if(!ctx||ctx===window) return;
      ["codigoAdd","codigoAddAll","codigoAddSerie","codigoAddSeries","codigoAddPlot","codigoAddJSPlotly","jsplotlyAdd","JSPlotlyAdd"]
        .forEach(n=>{ try{ if(typeof ctx[n]!=="function") ctx[n]=_dispatch; }catch(_){ } });
    });
  }catch(_){}
})();

function codigoPadrao(){
  // ---- container do Plotly + UI overlay
  var plot = document.querySelector(".js-plotly-plot");
  if(!plot){ console.warn("Plotly container nao encontrado"); return; }
  var host = plot.parentNode||document.body;
  if(getComputedStyle(host).position==="static") host.style.position="relative";

  // ---- UI
  var ui = document.getElementById("accel-ui");
  if(!ui){
    ui = document.createElement("div");
    ui.id="accel-ui";
    ui.style.cssText="position:absolute;z-index:9999;top:8px;left:8px;background:rgba(255,255,255,.95);padding:6px 8px;border-radius:12px;display:flex;gap:8px;align-items:center;flex-wrap:wrap;box-shadow:0 2px 6px rgba(0,0,0,.15);font:14px system-ui,-apple-system,Segoe UI,Roboto;pointer-events:auto";
    ui.innerHTML =
      "<button id='accel-start'>Start</button>" +
      "<button id='accel-stop' disabled>Stop</button>" +
      "<label>Janela: <input id='accel-buf' type='number' min='50' max='5000' value='512' style='width:80px'></label>" +
      "<label>Hz: <input id='accel-hz' type='number' min='1' max='60' value='25' style='width:70px'></label>" +
      "<label style='user-select:none'><input id='accel-demo' type='checkbox'> Demo</label>" +
      "<label style='user-select:none'><input id='accel-all' type='checkbox'> Add 4 canais</label>" +
      "<button id='accel-testadd' title='chama window.codigoAdd()'>Teste Add</button>" +
      "<a id='accel-unlock' href='#' style='text-decoration:none;border:1px solid #ccc;border-radius:8px;padding:2px 6px'>Desbloquear Start</a>" +
      "<span id='accel-msg' style='font-size:12px;opacity:.9;color:#333;margin-left:4px'></span>";
    host.appendChild(ui);
  }
  var el = {
    start: ui.querySelector("#accel-start"),
    stop:  ui.querySelector("#accel-stop"),
    buf:   ui.querySelector("#accel-buf"),
    hz:    ui.querySelector("#accel-hz"),
    demo:  ui.querySelector("#accel-demo"),
    all:   ui.querySelector("#accel-all"),
    test:  ui.querySelector("#accel-testadd"),
    unlock:ui.querySelector("#accel-unlock"),
    msg:   ui.querySelector("#accel-msg")
  };
  // pointer-events garantidos para todos elementos da UI
  ui.querySelectorAll("*").forEach(n=>{ n.style.pointerEvents="auto"; });

  function tip(t){ el.msg.textContent=t||""; if(t){ clearTimeout(tip._t); tip._t=setTimeout(()=>el.msg.textContent="",1800);} }

  // ---- badge de diagnÃ³stico
  var badge = document.getElementById("accel-badge");
  if(!badge){
    badge = document.createElement("div");
    badge.id="accel-badge";
    badge.style.cssText="position:absolute; top:8px; right:8px; z-index:10000; font:12px system-ui; background:rgba(0,0,0,.55); color:#fff; padding:4px 8px; border-radius:8px; pointer-events:none";
    host.appendChild(badge);
  }
  function updateBadge(dm,dO){
    var secure=(window.isSecureContext?"sim":"nao");
    var inFrame=(function(){ try{ return window.top!==window; }catch(_){ return true; } })();
    badge.textContent="secure? "+secure+" Â· iframe? "+(inFrame?"sim":"nao")+" Â· DM:"+dm+"/s DO:"+dO+"/s";
  }

  // ---- estado
  var timer=null, rateTimer=null, running=false;
  var useDemo=false, usingDO=false, usingDOAbs=false;
  var bufMax=+el.buf.value||512, hz=+el.hz.value||25, dtMs=Math.max(5,Math.round(1000/Math.max(1,hz)));
  var t0=performance.now(), snapCount=0;
  var tt=[], ax=[], ay=[], az=[], amag=[];
  var last={x:0,y:0,z:9.81,mag:9.81};
  var dmCount=0, doCount=0;

  // ---- plot
  Plotly.react(plot, [
    {x:[],y:[],name:"ax (m/s^2)",mode:"lines",line:{simplify:true}},
    {x:[],y:[],name:"ay (m/s^2)",mode:"lines",line:{simplify:true}},
    {x:[],y:[],name:"az (m/s^2)",mode:"lines",line:{simplify:true}},
    {x:[],y:[],name:"|a|",mode:"lines",line:{dash:"dot",simplify:true}}
  ], {
    margin:{l:50,r:10,t:10,b:40},
    xaxis:{title:"tempo (s)",range:[0,10],fixedrange:true},
    yaxis:{title:"aceleracao",range:[-20,20],fixedrange:true},
    showlegend:true
  }, {displayModeBar:true,responsive:true});

  function resetX(){ Plotly.relayout(plot, {"xaxis.range":[0,10]}); }
  function trim(){ while(tt.length>bufMax){ tt.shift(); ax.shift(); ay.shift(); az.shift(); amag.shift(); } }

  // ---- sensores
  function onDM(e){
    var a=e.accelerationIncludingGravity||e.acceleration||{x:0,y:0,z:0};
    var x=+a.x||0, y=+a.y||0, z=+a.z||0, m=Math.sqrt(x*x+y*y+z*z);
    last={x:x,y:y,z:z,mag:m}; dmCount++;
  }
  function orientToAccel(e){
    var beta=(+e.beta)||0, gamma=(+e.gamma)||0;
    var b=beta*Math.PI/180, g=gamma*Math.PI/180, G=9.81;
    var x= G*Math.sin(b), y=-G*Math.sin(g);
    var z= Math.sqrt(Math.max(0, G*G - x*x - y*y));
    var m= Math.sqrt(x*x+y*y+z*z);
    last={x:x,y:y,z:z,mag:m}; doCount++;
  }
  function onDO(e){ usingDO=true; orientToAccel(e); }
  function onDOAbs(e){ usingDOAbs=true; orientToAccel(e); }
  function synth(t){
    var x=8*Math.sin(2*Math.PI*0.7*t);
    var y=6*Math.sin(2*Math.PI*1.1*t+1.2);
    var z=9.8+3*Math.sin(2*Math.PI*0.3*t+0.4);
    var m=Math.sqrt(x*x+y*y+z*z);
    last={x:x,y:y,z:z,mag:m};
  }

  function tick(){
    var tsec=(performance.now()-t0)/1000;
    if(useDemo) synth(tsec);
    tt.push(tsec); ax.push(last.x); ay.push(last.y); az.push(last.z); amag.push(last.mag); trim();
    Plotly.extendTraces(plot,{x:[[tsec],[tsec],[tsec],[tsec]], y:[[last.x],[last.y],[last.z],[last.mag]]},[0,1,2,3],bufMax);
    var xmax=plot.layout.xaxis.range[1]; if(tsec>xmax) Plotly.relayout(plot,{"xaxis.range":[tsec-10,tsec]});
  }

  // ---- permissoes (iOS)
  async function ensureMotionPermission(){
    try{ var iOS=typeof DeviceMotionEvent!=="undefined" && typeof DeviceMotionEvent.requestPermission==="function";
         if(iOS){ if(await DeviceMotionEvent.requestPermission()!=="granted") throw 0; } }
    catch(_){ return false; }
    return true;
  }
  async function ensureOrientationPermission(){
    try{ var iOS=typeof DeviceOrientationEvent!=="undefined" && typeof DeviceOrientationEvent.requestPermission==="function";
         if(iOS){ if(await DeviceOrientationEvent.requestPermission()!=="granted") throw 0; } }
    catch(_){ return false; }
    return true;
  }

  // ---- start/stop com proteÃ§Ã£o
  async function start(){
    if(running) return;
    // forÃ§a estado inicial do UI (hotfix p/ botao travado)
    el.start.disabled=false; el.stop.disabled=true;

    // reset
    tt.length=ax.length=ay.length=az.length=amag.length=0;
    dmCount=0; doCount=0; usingDO=false; usingDOAbs=false;

    bufMax=+el.buf.value||512; hz=+el.hz.value||25; dtMs=Math.max(5,Math.round(1000/Math.max(1,hz)));
    useDemo=!!el.demo.checked;

    if(!useDemo){
      // tenta DeviceMotion
      if(typeof window.DeviceMotionEvent!=="undefined"){
        var ok = await ensureMotionPermission();
        if(ok) window.addEventListener("devicemotion", onDM, {passive:true});
      }
      // watchdog: se nada chegar, ativa DO/DOAbs
      setTimeout(async ()=>{
        if(!useDemo && dmCount<2){
          var got=false;
          if(typeof window.DeviceOrientationEvent!=="undefined"){
            var ok2=await ensureOrientationPermission();
            if(ok2){ window.addEventListener("deviceorientation", onDO, {passive:true}); got=true; }
          }
          if(typeof window.DeviceOrientationAbsoluteEvent!=="undefined"){
            window.addEventListener("deviceorientationabsolute", onDOAbs, {passive:true}); got=true;
          }
          if(got) tip("Usando fallback por orientacao");
          else tip("Sem acesso ao sensor; verifique HTTPS/allow no iframe");
        }
      }, 1500);
    }

    t0=performance.now(); resetX();
    timer=setInterval(tick, dtMs);
    rateTimer=setInterval(()=>{ updateBadge(dmCount,doCount); dmCount=0; doCount=0; },1000);
    running=true; el.start.disabled=true; el.stop.disabled=false;
    tip(useDemo?"Demo on":"Sensor on");
  }

  function stop(){
    if(!running) return;
    clearInterval(timer); timer=null;
    clearInterval(rateTimer); rateTimer=null;
    window.removeEventListener("devicemotion", onDM);
    window.removeEventListener("deviceorientation", onDO);
    window.removeEventListener("deviceorientationabsolute", onDOAbs);
    running=false; el.start.disabled=false; el.stop.disabled=true;
    updateBadge(0,0); tip("Parado");
  }

  // ---- handlers robustos (click + touchstart, com passive:false)
  ["click","touchstart"].forEach(evt=>{
    el.start.addEventListener(evt, function(ev){ ev.preventDefault(); ev.stopPropagation(); start(); }, {passive:false});
    el.stop .addEventListener(evt, function(ev){ ev.preventDefault(); ev.stopPropagation(); stop();  }, {passive:false});
  });
  // botÃ£o para destravar manualmente o Start se algum overlay externo travar
  el.unlock.addEventListener("click", function(ev){
    ev.preventDefault(); ev.stopPropagation();
    el.start.disabled=false; el.stop.disabled=true;
    ui.style.pointerEvents="auto"; ui.querySelectorAll("*").forEach(n=>n.style.pointerEvents="auto");
    tip("Start desbloqueado");
  });

  // outros
  el.test.onclick = function(){ window.codigoAdd(); };
  window.addEventListener("visibilitychange", function(){ if(document.hidden) stop(); });
  window.addEventListener("resize", function(){ Plotly.Plots.resize(plot); });

  // ---- ADD: snapshot (|a|) ou 4 canais
  function snapshot(){
    if(tt.length<2){ tip("sem dados p/ Add"); return false; }
    var k=++snapCount, traces=[];
    if(el.all && el.all.checked){
      traces.push({x:tt.slice(),y:ax.slice(),  mode:"lines",name:"snap "+k+" ax"});
      traces.push({x:tt.slice(),y:ay.slice(),  mode:"lines",name:"snap "+k+" ay",line:{dash:"dot"}});
      traces.push({x:tt.slice(),y:az.slice(),  mode:"lines",name:"snap "+k+" az",line:{dash:"dash"}});
      traces.push({x:tt.slice(),y:amag.slice(),mode:"lines",name:"snap "+k+" |a|",line:{width:2}});
      tip("Snapshot (4 canais) adicionado");
    }else{
      traces.push({x:tt.slice(),y:amag.slice(),mode:"lines",name:"snapshot "+k+" (|a|)",line:{width:2},
                   hovertemplate:"t=%{x:.2f}s<br>|a|=%{y:.2f}<extra>snapshot</extra>"});
      tip("Snapshot (|a|) adicionado");
    }
    Plotly.addTraces(plot,traces);
    return true;
  }
  window._codigoAddImpl = snapshot;
  try{
    if(window.parent && window.parent!==window) window.parent._codigoAddImpl = snapshot;
    if(window.top    && window.top!==window)    window.top._codigoAddImpl    = snapshot;
  }catch(_){}

  // ---- estado inicial garantido
  el.start.disabled=false; el.stop.disabled=true;
  updateBadge(0,0);
}

// auto-launch
try{ codigoPadrao(); }catch(e){ console.error(e); }
`;


window.onload = function() {
    editor.setValue(codigoPadrao, -1);
    resetarGrafico();
};

   
</script>


<div class="license-info">
  <p>
    Licence under 
    <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" style="color: gray; text-decoration: none;">
      CC BY-NC-SA 4.0
    </a>
    Â© 2025 JosÃ© MaurÃ­cio Schneedorf FS
  </p>
</div>




<script>
  function alternarTema() {
  document.body.classList.toggle("dark-mode");

  const isDark = document.body.classList.contains("dark-mode");
  const botao = document.getElementById("toggleTheme");
  botao.textContent = isDark ? "â˜€ï¸" : "ðŸŒ™";
  editor.setTheme(isDark ? "ace/theme/monokai" : "ace/theme/github");
  const layoutEscuro = {
    plot_bgcolor: "#1e1e1e",
    paper_bgcolor: "#1e1e1e",
    font: { color: "#e0e0e0" },
    xaxis: { color: "#e0e0e0", gridcolor: "#444" },
    yaxis: {
          zeroline: true,
          zeroline: true, color: "#e0e0e0", gridcolor: "#444" }
  };

  const layoutClaro = {
    plot_bgcolor: "#ffffff",
    paper_bgcolor: "#ffffff",
    font: { color: "#000000" },
    xaxis: { color: "#000", gridcolor: "#ccc" },
    yaxis: {
          zeroline: true,
          zeroline: true, color: "#000", gridcolor: "#ccc" }
  };

  const layoutNovo = isDark ? layoutEscuro : layoutClaro;

  Plotly.relayout("grafico", layoutNovo);
}

</script>

<script>
function salvarAppCompleto() {
  const gd = document.getElementById("grafico");
  const curvasAtuais = JSON.stringify(gd.data);
  const layoutAtual = JSON.stringify(gd.layout || {});

  let htmlCompleto = document.documentElement.outerHTML;

  // Script que serÃ¡ injetado no HTML salvo para redesenhar o grÃ¡fico
  const scriptPlotly = `
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        const data = ${curvasAtuais};
        const layout = ${layoutAtual};
        Plotly.newPlot("grafico", data, layout);
      });
    <\\/script>
  `;

</script>


<script>
function salvarProjetoCompleto() {
  const gd = document.getElementById("grafico");
  const curvasStr = JSON.stringify(gd.data);
  const layoutStr = JSON.stringify(gd.layout || {});
  const codigoStr = JSON.stringify(editor.getValue());
  const temaEscuro = document.body.classList.contains("dark-mode");

  let htmlContent = ''
    + '<!DOCTYPE html>\n'
    + '<html lang="pt">\n'
    + '<head>\n'
    + '  <meta charset="UTF-8">\n'
    + '  <title>JSPlotly Projeto Salvo</title>\n'
    + '  <script src="https://cdn.plot.ly/plotly-2.20.0.min.js"><\/script>\n'
    + '  <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.js"><\/script>\n'
    + '  <style>\n'
    + '    body { font-family: Arial, sans-serif; margin: 20px; }\n'
    + '    .container { display: flex; justify-content: space-between; align-items: flex-start; }\n'
    + '    #grafico { width: 55%; height: 500px; }\n'
    + '    #editor-container { width: 40%; }\n'
    + '    #editor { width: 100%; height: 350px; border: 1px solid #ccc; }\n'
    + '  </style>\n'
    + '</head>\n'
    + '<body>\n'
    + '  <h2>JSPlotly - Projeto Salvo</h2>\n'
    + '  <div class="container">\n'
    + '    <div id="grafico"></div>\n'
    + '    <div id="editor-container">\n'
    + '      <div id="editor"></div>\n'
    + '    </div>\n'
    + '  </div>\n'
    + '  <script>\n'
    + '    const curvas = ' + curvasStr + ';\n'
    + '    const layout = ' + layoutStr + ';\n'
    + '    const codigo = ' + codigoStr + ';\n'
    + '    const temaEscuro = ' + JSON.stringify(temaEscuro) + ';\n'
    + '    const editor = ace.edit("editor");\n'
    + '    editor.setTheme(temaEscuro ? "ace/theme/monokai" : "ace/theme/github");\n'
    + '    editor.session.setMode("ace/mode/javascript");\n'
    + '    editor.setValue(codigo, -1);\n'
    + '    layout.editable = true;\n'
    + '    Plotly.newPlot("grafico", curvas, layout);\n'
    + '    document.body.classList.toggle("dark-mode", temaEscuro);\n'
    + '    document.getElementById("grafico").on("plotly_click", function(data) {\n'
    + '      const y = data.points[0].y;\n'
    + '      const ctx = new (window.AudioContext || window.webkitAudioContext)();\n'
    + '      const osc = ctx.createOscillator();\n'
    + '      const gain = ctx.createGain();\n'
    + '      osc.type = "sine";\n'
    + '      osc.frequency.setValueAtTime(y, ctx.currentTime);\n'
    + '      osc.connect(gain);\n'
    + '      gain.connect(ctx.destination);\n'
    + '      osc.start();\n'
    + '      osc.stop(ctx.currentTime + 0.4);\n'
    + '    });\n'
    + '  <\/script>\n'
    + '</body>\n'
    + '</html>';

  const blob = new Blob([htmlContent], { type: "text/html" });
  const a = document.createElement("a");
  a.href = URL.createObjectURL(blob);
  a.download = "jsplotly_projeto.html";
  a.click();
}
</script>

<script>
function salvarProjetoSomenteGrafico() {
  const gd = document.getElementById("grafico");
  const curvasStr = JSON.stringify(gd.data);
  const layoutStr = JSON.stringify(gd.layout || {});
  const framesData = gd._transitionData && gd._transitionData._frames;
  const framesStr = JSON.stringify(framesData || []);
  const temaEscuro = document.body.classList.contains("dark-mode");

  let htmlContent = ''
    + '<!DOCTYPE html>\n'
    + '<html lang="pt">\n'
    + '<head>\n'
    + '  <meta charset="UTF-8">\n'
    + '  <title>JSPlotly GrÃ¡fico Exportado</title>\n'
    + '  <script src="https://cdn.plot.ly/plotly-2.20.0.min.js"><\/script>\n'
    + '  <style>\n'
    + '    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: ' + (temaEscuro ? '#1e1e1e' : '#ffffff') + '; color: ' + (temaEscuro ? '#e0e0e0' : '#000000') + '; }\n'
    + '    #grafico { width: 100vw; height: 100vh; }\n'
    + '  </style>\n'
    + '</head>\n'
    + '<body>\n'
    + '  <div id="grafico"></div>\n'
    + '  <script>\n'
    + '    const data = ' + curvasStr + ';\n'
    + '    const layout = ' + layoutStr + ';\n'
    + '    const frames = ' + framesStr + ';\n'
    + '    layout.editable = false;\n'
    + '    Plotly.newPlot("grafico", data, layout).then(function() {\n'
    + '      if (frames && frames.length > 0) {\n'
    + '        Plotly.addFrames("grafico", frames);\n'
    + '        Plotly.animate("grafico", null, { frame: { duration: 500, redraw: true }, transition: { duration: 300 } });\n'
    + '      }\n'
    + '    });\n'
    + '    document.getElementById("grafico").on("plotly_click", function(data) {\n'
    + '      const y = data.points[0].y;\n'
    + '      const ctx = new (window.AudioContext || window.webkitAudioContext)();\n'
    + '      const osc = ctx.createOscillator();\n'
    + '      const gain = ctx.createGain();\n'
    + '      osc.type = "sine";\n'
    + '      osc.frequency.setValueAtTime(y, ctx.currentTime);\n'
    + '      osc.connect(gain);\n'
    + '      gain.connect(ctx.destination);\n'
    + '      osc.start();\n'
    + '      osc.stop(ctx.currentTime + 0.4);\n'
    + '    });\n'
    + '  <\/script>\n'
    + '</body>\n'
    + '</html>';

  const blob = new Blob([htmlContent], { type: "text/html" });
  const a = document.createElement("a");
  a.href = URL.createObjectURL(blob);
  a.download = "play.html";
  a.click();
}
</script>




<script>
function salvarCloneJSPlotly() {
  // Captura o cÃ³digo do usuÃ¡rio e escapa com seguranÃ§a
  const codigoNovo = editor.getValue()
    .replace(/\\/g, '\\\\')
    .replace(/`/g, '\\`')
    .replace(/\$/g, '\\$');

  // Substitui diretamente o valor da variÃ¡vel codigoPadrao na string
  const novaDefinicao = 'var codigoPadrao = `' + codigoNovo + '`;';
  
  // Extrai o HTML original em partes
  const htmlOriginal = document.documentElement.outerHTML;

  const htmlAtualizado = htmlOriginal.replace(
    /var codigoPadrao = `([\s\S]*?)`;/,
    novaDefinicao
  );

  const blob = new Blob([htmlAtualizado], { type: "text/html" });
  const a = document.createElement("a");
  a.href = URL.createObjectURL(blob);
  a.download = "JSPlotly.html";
  a.click();
}

function abrirNoChartStudio() {
  const gd = document.getElementById('grafico');
  if (!gd || !gd.data || gd.data.length === 0) {
    alert("NÃ£o hÃ¡ grÃ¡fico para enviar. Clique em 'add' primeiro.");
    return;
  }

  const dataStr   = JSON.stringify(gd.data || []);
  const layoutStr = JSON.stringify(gd.layout || {});

  // Tenta GET quando o payload Ã© pequeno (URLs muito grandes podem falhar)
  const urlBase = "https://chart-studio.plotly.com/create/";
  const urlGET  = urlBase
    + "?plotlyData="   + encodeURIComponent(dataStr)
    + "&plotlyLayout=" + encodeURIComponent(layoutStr);

  if ((dataStr.length + layoutStr.length) < 1500) {
    window.open(urlGET, "_blank");
    return;
  }

  // Fallback: POST via form oculto (evita limite de URL)
  const form = document.createElement("form");
  form.method = "POST";
  form.action = urlBase;     // Editor do Chart Studio
  form.target = "_blank";

  const inpData = document.createElement("input");
  inpData.type = "hidden";
  inpData.name = "plotlyData";
  inpData.value = dataStr;

  const inpLayout = document.createElement("input");
  inpLayout.type = "hidden";
  inpLayout.name = "plotlyLayout";
  inpLayout.value = layoutStr;

  form.appendChild(inpData);
  form.appendChild(inpLayout);
  document.body.appendChild(form);
  form.submit();
  document.body.removeChild(form);
}


</script>







<script>mendeleyWebImporter = {
  downloadPdfs(e,t) { return this._call('downloadPdfs', [e,t]); },
  open() { return this._call('open', []); },
  setLoginToken(e) { return this._call('setLoginToken', [e]); },
  _call(methodName, methodArgs) {
    const id = Math.random();
    window.postMessage({ id, token: '0.27800485228453', methodName, methodArgs }, 'null');
    return new Promise(resolve => {
      const listener = window.addEventListener('message', event => {
        const data = event.data;
        if (typeof data !== 'object' || !('result' in data) || data.id !== id) return;
        window.removeEventListener('message', listener);
        resolve(data.result);
      });
    });
  }
};</script><svg id="js-plotly-tester" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="position: absolute; left: -10000px; top: -10000px; width: 9000px; height: 9000px; z-index: 1;"><path class="js-reference-point" d="M0,0H1V1H0Z" style="stroke-width: 0px; fill: black;"></path></svg></body></html>