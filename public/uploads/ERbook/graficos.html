<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>ERtools - 8&nbsp; Gráficos</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./tidyverse.html" rel="next">
<link href="./figuras.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./elementos.html">Elementos</a></li><li class="breadcrumb-item"><a href="./graficos.html"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Gráficos</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">ERtools</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title"><strong>TODO</strong></span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Projetos</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./projetos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Introdução</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./contrVer.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Controle de versões</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chunks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Códigos</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cabecalho.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Cabeçalho</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./elementos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Elementos</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./links.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Links</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./figuras.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Figuras</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./graficos.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Gráficos</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tidyverse.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Tidyverse</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tabelas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Tabelas</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./equacoes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Equações</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./diagramas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Diagramas</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./refsCruzadas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Referenciação</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./bibliografia.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Bibliografia</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./quantidades.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quantidades</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./acoes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Ações</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./carrega.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Carregamento de dados</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./estatisticas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Estatísticas</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./funcoes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Funções</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ajustes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Ajustes de Dados</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./receitas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Algumas receitas matemáticas</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exemplos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Exemplos</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./mais.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mais</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pacotes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Pacotes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./animacoes2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Animações</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programacao.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Testes condicionais e laços</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./docs_exemplo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Documentos exemplificados</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exemplos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Exemplos</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Referências</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#os-sistemas-gráficos-do-r" id="toc-os-sistemas-gráficos-do-r" class="nav-link active" data-scroll-target="#os-sistemas-gráficos-do-r"><span class="header-section-number">8.1</span> Os sistemas gráficos do R</a>
  <ul class="collapse">
  <li><a href="#um-pouco-mais-sobres-os-sistemas-gráficos" id="toc-um-pouco-mais-sobres-os-sistemas-gráficos" class="nav-link" data-scroll-target="#um-pouco-mais-sobres-os-sistemas-gráficos"><span class="header-section-number">8.1.1</span> Um pouco mais sobres os sistemas gráficos</a></li>
  <li><a href="#conversão-de-formatos-de-apresentação-de-dados-long-wide" id="toc-conversão-de-formatos-de-apresentação-de-dados-long-wide" class="nav-link" data-scroll-target="#conversão-de-formatos-de-apresentação-de-dados-long-wide"><span class="header-section-number">8.1.2</span> Conversão de formatos de apresentação de dados: Long &amp; Wide</a></li>
  </ul></li>
  <li><a href="#o-sistema-base-graphics" id="toc-o-sistema-base-graphics" class="nav-link" data-scroll-target="#o-sistema-base-graphics"><span class="header-section-number">8.2</span> O sistema base (<code>graphics</code>)</a>
  <ul class="collapse">
  <li><a href="#armazenamento" id="toc-armazenamento" class="nav-link" data-scroll-target="#armazenamento"><span class="header-section-number">8.2.1</span> Armazenamento</a></li>
  <li><a href="#linhas-adicionais-graphics" id="toc-linhas-adicionais-graphics" class="nav-link" data-scroll-target="#linhas-adicionais-graphics"><span class="header-section-number">8.2.2</span> Linhas adicionais &amp; <code>graphics</code></a></li>
  <li><a href="#pairs---plot-de-todas-as-variáveis" id="toc-pairs---plot-de-todas-as-variáveis" class="nav-link" data-scroll-target="#pairs---plot-de-todas-as-variáveis"><span class="header-section-number">8.2.3</span> <code>pairs</code> - plot de todas as variáveis</a></li>
  <li><a href="#paineis" id="toc-paineis" class="nav-link" data-scroll-target="#paineis"><span class="header-section-number">8.2.4</span> Paineis</a></li>
  <li><a href="#a-função-matplot" id="toc-a-função-matplot" class="nav-link" data-scroll-target="#a-função-matplot"><span class="header-section-number">8.2.5</span> A função <code>matplot</code></a></li>
  <li><a href="#as-funções-plot-matplot-e-curve" id="toc-as-funções-plot-matplot-e-curve" class="nav-link" data-scroll-target="#as-funções-plot-matplot-e-curve"><span class="header-section-number">8.2.6</span> As funções <code>plot</code>, <code>matplot</code>, e <code>curve</code></a></li>
  </ul></li>
  <li><a href="#graphics-e-formato-long-para-dados-multivariados" id="toc-graphics-e-formato-long-para-dados-multivariados" class="nav-link" data-scroll-target="#graphics-e-formato-long-para-dados-multivariados"><span class="header-section-number">8.3</span> ‘Graphics’ e formato <em>Long</em> para dados multivariados</a></li>
  <li><a href="#o-sistema-ggplot2" id="toc-o-sistema-ggplot2" class="nav-link" data-scroll-target="#o-sistema-ggplot2"><span class="header-section-number">8.4</span> O sistema <code>ggplot2</code></a>
  <ul class="collapse">
  <li><a href="#a-gramática-de-gráficos-ggplot2" id="toc-a-gramática-de-gráficos-ggplot2" class="nav-link" data-scroll-target="#a-gramática-de-gráficos-ggplot2"><span class="header-section-number">8.4.1</span> A gramática de gráficos &amp; <code>ggplot2</code></a></li>
  <li><a href="#simulando-um-conjunto-pequeno-de-dados" id="toc-simulando-um-conjunto-pequeno-de-dados" class="nav-link" data-scroll-target="#simulando-um-conjunto-pequeno-de-dados"><span class="header-section-number">8.4.2</span> Simulando um conjunto pequeno de dados</a></li>
  <li><a href="#carregando-o-ggplot2" id="toc-carregando-o-ggplot2" class="nav-link" data-scroll-target="#carregando-o-ggplot2"><span class="header-section-number">8.4.3</span> Carregando o ggplot2</a></li>
  <li><a href="#escolhendo-o-tipo-de-gráfico" id="toc-escolhendo-o-tipo-de-gráfico" class="nav-link" data-scroll-target="#escolhendo-o-tipo-de-gráfico"><span class="header-section-number">8.4.4</span> Escolhendo o tipo de gráfico</a></li>
  <li><a href="#oferecendo-elegância-ao-gráfico" id="toc-oferecendo-elegância-ao-gráfico" class="nav-link" data-scroll-target="#oferecendo-elegância-ao-gráfico"><span class="header-section-number">8.4.5</span> Oferecendo elegância ao gráfico</a></li>
  <li><a href="#colocando-títulos-e-subtítulos" id="toc-colocando-títulos-e-subtítulos" class="nav-link" data-scroll-target="#colocando-títulos-e-subtítulos"><span class="header-section-number">8.4.6</span> Colocando títulos e subtítulos</a></li>
  <li><a href="#mudando-a-aparência-de-fundo" id="toc-mudando-a-aparência-de-fundo" class="nav-link" data-scroll-target="#mudando-a-aparência-de-fundo"><span class="header-section-number">8.4.7</span> Mudando a aparência de fundo</a></li>
  <li><a href="#alterando-o-tamanho-da-fonte" id="toc-alterando-o-tamanho-da-fonte" class="nav-link" data-scroll-target="#alterando-o-tamanho-da-fonte"><span class="header-section-number">8.4.8</span> Alterando o tamanho da fonte</a></li>
  <li><a href="#mudando-os-limites-dos-eixos" id="toc-mudando-os-limites-dos-eixos" class="nav-link" data-scroll-target="#mudando-os-limites-dos-eixos"><span class="header-section-number">8.4.9</span> Mudando os limites dos eixos</a></li>
  <li><a href="#modelando-os-dados" id="toc-modelando-os-dados" class="nav-link" data-scroll-target="#modelando-os-dados"><span class="header-section-number">8.4.10</span> Modelando os dados</a></li>
  <li><a href="#salvando-o-gráfico" id="toc-salvando-o-gráfico" class="nav-link" data-scroll-target="#salvando-o-gráfico"><span class="header-section-number">8.4.11</span> Salvando o gráfico</a></li>
  <li><a href="#simplificando-a-construção-de-um-gráfico" id="toc-simplificando-a-construção-de-um-gráfico" class="nav-link" data-scroll-target="#simplificando-a-construção-de-um-gráfico"><span class="header-section-number">8.4.12</span> Simplificando a construção de um gráfico</a></li>
  <li><a href="#elaborando-um-gráfico-apenas-com-vetores" id="toc-elaborando-um-gráfico-apenas-com-vetores" class="nav-link" data-scroll-target="#elaborando-um-gráfico-apenas-com-vetores"><span class="header-section-number">8.4.13</span> Elaborando um gráfico apenas com vetores</a></li>
  <li><a href="#simulação-função-em-ggplot2" id="toc-simulação-função-em-ggplot2" class="nav-link" data-scroll-target="#simulação-função-em-ggplot2"><span class="header-section-number">8.4.14</span> Simulação &amp; função em <code>ggplot2</code></a></li>
  <li><a href="#ggplot2-para-dados-multivariados" id="toc-ggplot2-para-dados-multivariados" class="nav-link" data-scroll-target="#ggplot2-para-dados-multivariados"><span class="header-section-number">8.4.15</span> <code>ggplot2</code> para dados multivariados</a></li>
  <li><a href="#paineis-faceting" id="toc-paineis-faceting" class="nav-link" data-scroll-target="#paineis-faceting"><span class="header-section-number">8.4.16</span> Paineis (<em>faceting</em>)</a></li>
  <li><a href="#gráfico-de-matriz-de-dados" id="toc-gráfico-de-matriz-de-dados" class="nav-link" data-scroll-target="#gráfico-de-matriz-de-dados"><span class="header-section-number">8.4.17</span> Gráfico de matriz de dados</a></li>
  <li><a href="#o-pacote-ggmatplot" id="toc-o-pacote-ggmatplot" class="nav-link" data-scroll-target="#o-pacote-ggmatplot"><span class="header-section-number">8.4.18</span> O pacote <code>ggmatplot</code></a></li>
  </ul></li>
  <li><a href="#o-sistema-lattice" id="toc-o-sistema-lattice" class="nav-link" data-scroll-target="#o-sistema-lattice"><span class="header-section-number">8.5</span> O sistema <code>lattice</code></a></li>
  <li><a href="#outros-pacotes-gráficos" id="toc-outros-pacotes-gráficos" class="nav-link" data-scroll-target="#outros-pacotes-gráficos"><span class="header-section-number">8.6</span> Outros pacotes gráficos</a>
  <ul class="collapse">
  <li><a href="#plotmath" id="toc-plotmath" class="nav-link" data-scroll-target="#plotmath"><span class="header-section-number">8.6.1</span> plotmath</a></li>
  <li><a href="#plotrix" id="toc-plotrix" class="nav-link" data-scroll-target="#plotrix"><span class="header-section-number">8.6.2</span> plotrix</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Gráficos</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="os-sistemas-gráficos-do-r" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="os-sistemas-gráficos-do-r"><span class="header-section-number">8.1</span> Os sistemas gráficos do R</h2>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Longe de exaurir os sistemas para plotagem de dados pelo <code>R</code>, existem três sistemas básicos que operam de modo independente a partir de pacotes do programa:</p>
<ol type="1">
<li><em>Graphics</em>. Inserido no pacote básico de instalação padrão do <code>R</code>, <code>base</code>, o sistema <em>Graphics</em> é que mais se comunica com os diversos pacotes para análises estatísticas e matemáticas do programa, embora seja mais analítico do que estético.</li>
</ol>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Em sua essência, o <em>Graphics</em> gera o resultado gráfico em cada linha de comando; dessa forma, para o <em>output</em> de dados multivariados são necessárias linhas de comando semelhantes para cada conjunto, embora haja a possibilidade de trabalhar-se com gráficos a partir de matrizes como <em>dataframes</em> (função <code>matplot</code>).</p>
<ol start="2" type="1">
<li><p><em>Lattice</em>. Significando algo como <em>entrelaçado</em> (em tradução livre), o sistema pertence ao pacote homônimo <code>lattice</code>, e foi concebido para a produção de gráficos estatísticos de dados multivariados (<em>trellis</em>). Constitui um sistema com <em>output</em> mais estético que o padrão do <code>R</code>, goza da comunicabilidade entre pacotes desse, é bastante simples para gráficos de mesma natureza, embora seja complexo para representações contendo análises matemáticas. Diferente do anterior, a compilação é feita por algoritmo em uma única linha de comando para dados multivariados. Em sua essência, o <code>lattice</code> permite a construção de um gráfico para dados multivariados em apenas uma linha de comando.</p></li>
<li><p><em>ggplot2</em>. O mais conhecido para produção estética de gráficos para publicação do <code>R</code> e <em>data science</em>, permitindo-se trabalhar-se tanto com dados univariados ou multivariados, como simultaneamente, para a produção de gráficos <em>elegantes</em>, bem como para análise de dados. Via de regra, contudo, não fornece os resultados quantitativos das análises, apenas sua visualização gráfica. | Em sua essência, o <code>ggplot2</code> trabalha com camadas que se somam (“+”) para a renderização final do gráfico, de modo similar a programas de edição de imagens (ex: <em>Inkscape</em>, <em>Photoshop</em>).</p></li>
</ol>
<section id="um-pouco-mais-sobres-os-sistemas-gráficos" class="level3" data-number="8.1.1">
<h3 data-number="8.1.1" class="anchored" data-anchor-id="um-pouco-mais-sobres-os-sistemas-gráficos"><span class="header-section-number">8.1.1</span> Um pouco mais sobres os sistemas gráficos</h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;O <code>graphics</code> é o sistema que vem na instalação padrão do <code>R</code> (<em>base</em>), não sendo necessário qualquer pacote de instalação adicional (como o <code>ggplot2</code>). Embora o <code>graphics</code> seja mais limitado e/ou trabalhoso para análise com dados multivariados comum em <em>Ciência de dados</em>, é o sistema mais confortável na comunicação com outros pacotes de análises de dados do ecossistema <code>R</code>. Isso permite a produção de gráficos concomitante a resultados de análises, como ANAVA, ajustes lineares e curvilineares, bem como de <em>análise numérica</em> e programação, por exemplo. Trabalha com a produção gráfica de dados, uni ou multivariados, somente no formato <em>Wide</em>.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Por outro lado, como o <code>graphics</code> foi concebido primariamente no <code>R</code>, outros pacotes gráficos surgidos depois complementam sua limitação, quer para divulgação e publicação científica (<code>ggplot2</code>), ou para análise multivariada e Ciências de dados (<code>lattice</code>, <code>ggplot2</code>).</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Não obstante, o <code>ggplot2</code> exige uma <em>gramática de gráficos</em> específica em sua sintaxe, costuma “conversar” com um número limitado de outros pacotes (como o conjunto <code>tidyverse</code>), e não é o mais indicado para análises estatísticas e matemáticas concomitantes à produção gráfica. Esse último demérito vem do fato de que o <code>ggplot2</code>, embora possa se comunicar com alguns pacotes estatísticos e de análises, foi concebido originalmente para a <em>visualização de dados</em>, e não para análise propriamente dita. Como ponto positivo adicional, é o sistema empregado por pacotes de animação na <em>web</em>, tais como <code>shiny</code>. Adicionalmente, permite a produção de gráficos a partir de estatísticas oriundas dos próprios dados, sem análise prévia requerida. Como ponto singular, exige que para gráficos multivariados os dados estejam com os subgrupos em formato <em>Long</em>.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Do outro lado, o <code>lattice</code> foi concebido para a produção de gráficos e análise concomitantes, o que permite maior abrangência de comunicabilidade com outros pacotes do <code>R</code>. Não obstante, essa comunicação requer um maior aprofundamento do algoritmo envolvido nas linhas de programação, o que torna o <code>lattice</code> não tão intuitivo como o <code>graphics</code>. Adicionalmente, permite trabalhar-se com formato de dados <em>Wide</em> ou <em>Long</em>, e possui pacote que permite simular a estética de gráficos do <code>ggplot2</code>.</p>
<p><em>Em síntese</em>:</p>
<ol type="1">
<li><code>graphics</code> não requer instalação, permite gráficos mais simples (embora suficientes para análises convencionais), é menos estético, é mais intuitivo, mas também mais trabalhoso para compor gráficos complexos e dados multivariados, e tem a vantagem de comunicar-se no ecossistema de pacotes de análises do <code>R</code>. Na percepção deste autor, possui um fluxo mais confortável para análise de dados concomitante à gráficos explanatórios, como em representações de modelos matemáticos.</li>
<li><code>lattice</code> combina a produção gráfica com análises de dados convencionais do <code>R</code>, embora seja de sintaxe mais elaborada para gráficos que exijam ajustes matemáticos mais complexos, e é mais voltado à conjuntos de dados multivariados e produção de paineis.</li>
<li><code>ggplot2</code> é o sistema mais adotado em <em>data science</em>, possui uma estética inigualável aos demais sistemas gráficos do <code>R</code>, é bastante flexível, desde gráficos simples aos de alta complexidade, comunica-se perfeitamente com outros pacotes, embora somente os correlatos (como o ecossistema <code>tidyverse</code>), mas não permite a produção de gráficos concomitante à diversas análises do <code>R</code>. Essas análises, embora estejam implícitas nas imagens (como ajustes lineares, parabólicos ou não lineares), não são oferecidas à visualização ou programação subsequente (como parâmetros de ajustes de modelos), tal como no sistema base e no <em>lattice</em>.</li>
</ol>
</section>
<section id="conversão-de-formatos-de-apresentação-de-dados-long-wide" class="level3" data-number="8.1.2">
<h3 data-number="8.1.2" class="anchored" data-anchor-id="conversão-de-formatos-de-apresentação-de-dados-long-wide"><span class="header-section-number">8.1.2</span> Conversão de formatos de apresentação de dados: Long &amp; Wide</h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Como explicado acima, pacotes gráficos do <code>R</code> podem trabalhar nos dois formatos, <em>Long</em> (<code>ggplot2</code>) e <em>Wide</em> (<code>graphics</code>). O pacote <code>lattice</code> permite operar com os dois formatos</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Para exemplificar esses formatos, ilustra-se um <em>dataframe</em> criado em <em>Long</em>, como segue.</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-1_b6e492e44a7bd3071858c2f8713855f5">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>grupo <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">4</span>),<span class="dv">4</span>))</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>resposta <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">6</span>,<span class="dv">8</span>,<span class="dv">10</span>,<span class="dv">14</span>,<span class="dv">18</span>,<span class="dv">22</span>,<span class="dv">24</span>,<span class="dv">30</span>,<span class="dv">36</span>,<span class="dv">42</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>niveis <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">"A"</span>,<span class="dv">4</span>),<span class="fu">rep</span>(<span class="st">"B"</span>, <span class="dv">4</span>), <span class="fu">rep</span>(<span class="st">"C"</span>, <span class="dv">4</span>), <span class="fu">rep</span>(<span class="st">"D"</span>, <span class="dv">4</span>)) <span class="co"># criação de vetores para dataset com subgrupos</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>df.l <span class="ot">&lt;-</span><span class="fu">data.frame</span>(grupo, resposta, niveis);df.l</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   grupo resposta niveis
1      1        1      A
2      2        2      A
3      3        3      A
4      4        4      A
5      1        2      B
6      2        4      B
7      3        6      B
8      4        8      B
9      1       10      C
10     2       14      C
11     3       18      C
12     4       22      C
13     1       24      D
14     2       30      D
15     3       36      D
16     4       42      D
17     1        1      A
18     2        2      A
19     3        3      A
20     4        4      A
21     1        2      B
22     2        4      B
23     3        6      B
24     4        8      B
25     1       10      C
26     2       14      C
27     3       18      C
28     4       22      C
29     1       24      D
30     2       30      D
31     3       36      D
32     4       42      D
33     1        1      A
34     2        2      A
35     3        3      A
36     4        4      A
37     1        2      B
38     2        4      B
39     3        6      B
40     4        8      B
41     1       10      C
42     2       14      C
43     3       18      C
44     4       22      C
45     1       24      D
46     2       30      D
47     3       36      D
48     4       42      D
49     1        1      A
50     2        2      A
51     3        3      A
52     4        4      A
53     1        2      B
54     2        4      B
55     3        6      B
56     4        8      B
57     1       10      C
58     2       14      C
59     3       18      C
60     4       22      C
61     1       24      D
62     2       30      D
63     3       36      D
64     4       42      D</code></pre>
</div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Alguns pacotes de <code>R</code> permitem converter o formato <em>Long</em> para <em>Wide</em> e vice-versa, como o <code>reshape2</code> ou <code>tydir</code>. Convertendo o <em>dataframe</em> acima para formato <em>Wide</em> pelo <code>reshape2</code>:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-2_df37c574a3c3bd16093d62e739fe8c81">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reshape2)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>df.w <span class="ot">&lt;-</span> <span class="fu">reshape</span>(df.l,</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">idvar =</span> <span class="st">"grupo"</span>,</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">timevar =</span> <span class="st">"niveis"</span>,</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">direction =</span> <span class="st">"wide"</span>); df.w <span class="co"># conversão de formato Long para Wide</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in reshapeWide(data, idvar = idvar, timevar = timevar, varying =
varying, : multiple rows match for niveis=A: first taken</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in reshapeWide(data, idvar = idvar, timevar = timevar, varying =
varying, : multiple rows match for niveis=B: first taken</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in reshapeWide(data, idvar = idvar, timevar = timevar, varying =
varying, : multiple rows match for niveis=C: first taken</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in reshapeWide(data, idvar = idvar, timevar = timevar, varying =
varying, : multiple rows match for niveis=D: first taken</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  grupo resposta.A resposta.B resposta.C resposta.D
1     1          1          2         10         24
2     2          2          4         14         30
3     3          3          6         18         36
4     4          4          8         22         42</code></pre>
</div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Para a conversão de volta a <em>Long</em> utilizando-se o mesmo pacote <code>reshape2</code>:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-3_0ea12da7490e7fc568fcccd5edf15484">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>df.l2 <span class="ot">&lt;-</span> <span class="fu">reshape</span>(df.w,                      </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">idvar     =</span> <span class="st">"ID"</span>, </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">direction =</span> <span class="st">"long"</span>); df.l2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    grupo niveis resposta.A
1.A     1      A          1
2.A     2      A          2
3.A     3      A          3
4.A     4      A          4
1.B     1      B          2
2.B     2      B          4
3.B     3      B          6
4.B     4      B          8
1.C     1      C         10
2.C     2      C         14
3.C     3      C         18
4.C     4      C         22
1.D     1      D         24
2.D     2      D         30
3.D     3      D         36
4.D     4      D         42</code></pre>
</div>
</div>
</section>
</section>
<section id="o-sistema-base-graphics" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="o-sistema-base-graphics"><span class="header-section-number">8.2</span> O sistema base (<code>graphics</code>)</h2>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A seguir descreve-se a utilização do pacote base para gráficos do <code>R</code>, e com maior riqueza de detalhes que os demais (<code>ggplot2</code> e <code>lattice</code>). Essa escolha autoral reside em alguns aspectos, tais como:</p>
<ol type="1">
<li>Naturalidade de sua instalação original do <code>R</code>. Não há necessidade de instalação de qualquer pacote adicional;</li>
<li>Garantia de operação do sistema. Por ser o primário do <code>R</code>, já não sofre mais com alterações e atualizações que, às vezes, geram erros na compilação (mensagem: “deprecated”);</li>
<li>Alta flexibilidade para relações mais simples entre variáveis (mais comum em dados de “bancada de experimentos” do que em dados multivariados -<code>lattice</code> ou <em>data science</em> e publicação científica -<code>ggplot2</code>);</li>
<li>Caráter mais intuitivo, além de uma comunicação mais abrangente com os demais pacotes de análises e manipulação de dados do ecossistema do <code>R</code> (cálculos, análise numérica, simulação, programação, ajuste de modelos);</li>
<li>Possibilidade de plotagem de equações de modo mais simples que <code>ggplot2</code>;</li>
<li>. De fato, talvez essa última característica seja mais relevante quando se deseja a obtenção de resultados analíticos em paralelo às representações gráficas.</li>
</ol>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;O <code>graphics</code> trabalha com o comando <code>plot</code> em seus múltiplos argumentos:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-4_9b0e02d807f6b6e89947614fd436fbbe">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x, <span class="at">y =</span> <span class="cn">NULL</span>, <span class="at">type =</span> <span class="st">"p"</span>,  <span class="at">xlim =</span> <span class="cn">NULL</span>, <span class="at">ylim =</span> <span class="cn">NULL</span>,</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">log =</span> <span class="st">""</span>, <span class="at">main =</span> <span class="cn">NULL</span>, <span class="at">sub =</span> <span class="cn">NULL</span>, <span class="at">xlab =</span> <span class="cn">NULL</span>, <span class="at">ylab =</span> <span class="cn">NULL</span>,</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">ann =</span> <span class="fu">par</span>(<span class="st">"ann"</span>), <span class="at">axes =</span> <span class="cn">TRUE</span>, <span class="at">frame.plot =</span> axes,</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">panel.first =</span> <span class="cn">NULL</span>, <span class="at">panel.last =</span> <span class="cn">NULL</span>, <span class="at">asp =</span> <span class="cn">NA</span>,</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">xgap.axis =</span> <span class="cn">NA</span>, <span class="at">ygap.axis =</span> <span class="cn">NA</span>,</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>     ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;O comando permite duas formas de digitação, <em>cartesiana</em>, <code>plot(x,y)</code>, ou por <em>formula</em>, <code>plot(y~x)</code>. Além disso, e diferentemente do <code>ggplot2</code> e do <code>lattice</code>, o sistema base elabora o gráfico principal numa linha de comando, e incorpora elementos estéticos ou de modelagem em linhas subsequentes.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;O comando <code>plot</code>pode ser utilizado por diversas formas, o que o distingue dos demais <em>packages</em> citados, que trabalham somente com a identificação de colunas (vetores) por <em>datasets</em>. Assim, pelo <code>graphics</code> é possível plotar com:</p>
<ol type="1">
<li>Vetores criados “na unha”, de vetores de dados isolados;</li>
<li>Vetores de um <em>dataset</em> com identificação por símbolo <em>$</em>;</li>
<li>Vetores de um <em>dataset</em> identificado na função <code>plot</code>;</li>
<li>Vetores de <em>dataset</em> carregados por comando <code>attach</code>;</li>
<li>Vetores isolados e carregados no ambiente do <code>R</code>.</li>
</ol>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Exemplificando:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-5_ca0d27cf1d12ce8e96f03b49305bc9b0">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. A partir de vetores criados dentro da função</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>),<span class="at">y=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">7</span>,<span class="dv">11</span>))  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Vetores identificados no *dataset* com o símbolo $</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">A =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>),</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">B =</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">7</span>,<span class="dv">2</span>,<span class="dv">9</span>),</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">C =</span> <span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">6</span>,<span class="dv">8</span>,<span class="dv">10</span>))</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(df<span class="sc">$</span>A,df<span class="sc">$</span>C)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-5-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Vetores de dataset identificados na função</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(B<span class="sc">~</span>C, <span class="at">data=</span>df) <span class="co"># Obs: nesse último, é necessário o símbolo "tilde" ~; caso contrário (se por "," por ex), o R informa um erro.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-5-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. Vetores de dataset carregado com `attach`</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">G =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>),</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">H =</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">7</span>,<span class="dv">2</span>,<span class="dv">9</span>))</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(df1)</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(G,H) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-5-4.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 5. Vetores pré-definidos no ambiente</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>k <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">10</span><span class="sc">:</span><span class="dv">90</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">sin</span>(k)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(m<span class="sc">~</span>k, <span class="at">type=</span><span class="st">"l"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-5-5.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Alguns gráficos básicos permitidos pelo <code>graphics</code> envolvem:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-6_d8d0e01ebda5994f2d4aa07ea8eec1b7">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>() <span class="sc">-</span> pontos, linhas, pontos e linhas</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>() <span class="sc">-</span> plot de barras</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>() <span class="sc">-</span> histograma</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>() <span class="sc">-</span> gráfico Box<span class="sc">-</span>Whiskers</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="fu">persp</span>() <span class="sc">-</span> gráfico 3D</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="fu">pie</span>() <span class="sc">-</span> gráfico de torta</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="fu">dotplot</span>() <span class="sc">-</span> sequência de <span class="fu">valores</span> (com <span class="sc">*</span>jitter<span class="sc">*</span>, espalhameto de pontos</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="fu">pairs</span>() <span class="sc">-</span> painel múltiplo com todas as variáveis plotadas</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="fu">matplot</span>() <span class="sc">-</span> plota vetores de matrizes, como <span class="sc">*</span>dataframes<span class="sc">*</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Exemplificando para um gráfico de barras:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-7_d298bd0502c4addce091b782bcd46483">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">70</span>,<span class="dv">60</span>,<span class="dv">40</span>,<span class="dv">60</span>,<span class="dv">40</span>,<span class="dv">20</span>),<span class="at">nrow=</span><span class="dv">2</span>, <span class="at">byrow=</span><span class="cn">TRUE</span>,</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>            <span class="at">dimnames=</span><span class="fu">list</span>(<span class="fu">c</span>(<span class="st">"teste1"</span>, <span class="st">"teste2"</span>), <span class="fu">c</span>(<span class="st">"controle"</span>, <span class="st">"método1"</span>, <span class="st">"método2"</span>))) <span class="co"># criação dos dados</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(m, <span class="at">beside=</span><span class="cn">TRUE</span>, <span class="at">legend.text =</span> <span class="cn">TRUE</span>, <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">100</span>),<span class="at">xlab=</span><span class="st">"Métodos"</span>, <span class="at">ylab=</span><span class="st">"Resultados"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Exemplificando para um gráfico tridimensional:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-8_667a9b66df4f3433e270a800ee8f91fb">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">10</span>,<span class="dv">10</span>, <span class="at">length =</span> <span class="dv">50</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">=</span> x</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>f <span class="ot">=</span> <span class="cf">function</span>(x,y) {r <span class="ot">=</span> <span class="fu">sqrt</span>(x<span class="sc">^</span><span class="dv">2</span><span class="sc">+</span>y<span class="sc">^</span><span class="dv">2</span>); <span class="dv">10</span><span class="sc">*</span><span class="fu">sin</span>(r)<span class="sc">/</span>r}</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>z <span class="ot">=</span> <span class="fu">outer</span>(x,y,f)</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="fu">persp</span>(x,y,z,<span class="at">theta=</span><span class="dv">30</span>,<span class="at">phi=</span><span class="dv">30</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Além disso, diversas personalizações são possíveis pelo sistema <code>graphics</code>, quer para todos os pontos, como para um vetor de qualidades relativas aos pontos, dentre as quais:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-9_5dd17efc99b571812406905e9db1ce3c">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>type <span class="sc">-</span> tipo de plot<span class="sc">:</span> pontos <span class="st">"p"</span>, linhas <span class="st">"l"</span>, pontos<span class="sc">+</span>linhas com cruzamento <span class="st">"o"</span>, pontos<span class="sc">+</span>linhas sem cruzamento <span class="st">"b"</span>, linhas verticais <span class="st">"h"</span>, steps <span class="st">"s"</span>, sem representação <span class="st">"n"</span>;</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>cex <span class="sc">-</span> tamanho do <span class="fu">ponto</span> (ex<span class="sc">:</span> <span class="fl">0.5</span>, <span class="dv">20</span>);</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>lty <span class="sc">-</span> <span class="st">"line type"</span>, tipo da linha; pode se representado por um <span class="fu">valor</span> (<span class="dv">1</span>,<span class="dv">2</span>,...) ou por <span class="st">"solid"</span>, <span class="st">"dotted"</span>, <span class="st">"dashed"</span>, <span class="st">"dotdash"</span>, <span class="st">"longdash"</span>, <span class="st">"twodash"</span>;</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>lwd <span class="sc">-</span> <span class="st">"line width"</span>, largura da <span class="fu">linha</span> (<span class="dv">6</span> níveis)</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>pch <span class="sc">-</span> tipo de <span class="fu">ponto</span> (<span class="dv">1-25</span>)</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>xlim, ylim <span class="sc">-</span> limite dos eixos; ex<span class="sc">:</span> ylim<span class="ot">=</span><span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>,<span class="dv">10</span>)</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>xlab, ylab <span class="sc">-</span> <span class="fu">etiquetas</span> (<span class="st">"label"</span>) dos gráficos</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>col <span class="sc">-</span> <span class="fu">cor</span> (números ou nomes); ex<span class="sc">:</span> <span class="st">"red"</span>, <span class="st">"orange"</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>main <span class="sc">-</span> título do gráfico</span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>sub <span class="sc">-</span> subtítulo do gráfico</span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>log <span class="sc">-</span> eixo logaritmo</span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a>jitter <span class="sc">-</span> espalhamento de <span class="fu">pontos</span> (evita sobreposição)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;E diversas personalizações ou inserções são permitidas após a execução do gráfico, tais como:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-10_a194822732670314b20ac8d523bd5af9">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>rug <span class="sc">-</span> marcação de pontos no <span class="fu">eixo</span> (reforça identidade)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>text <span class="sc">-</span> inserção de texto </span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>mtext <span class="sc">-</span> inserção de texto nas margens do plot</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>axis <span class="sc">-</span>  adiciona um eixo</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>abline <span class="sc">-</span> acrescenta uma linha <span class="fu">reta</span> (h, v, de valores, ou de ajuste)</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>grid <span class="sc">-</span> rede de marcação dos <span class="st">"ticks"</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>bg <span class="sc">-</span> plano <span class="fu">fundo</span> (<span class="st">"background"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Exemplificando alguns dos argumentos acima para um gráfico genérico:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-11_61a97ddfc24fa11a342a5df631df3e51">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>A <span class="ot">=</span> <span class="fu">seq</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>B <span class="ot">=</span> A<span class="sc">^</span><span class="dv">2</span>  <span class="co"># criação de vetor resposta pro gráfico</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x=</span>A, <span class="at">y=</span>B,</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">cex=</span><span class="dv">2</span>,<span class="at">pch=</span><span class="dv">3</span>,<span class="at">type=</span><span class="st">"o"</span>,<span class="at">lty=</span><span class="st">"dotted"</span>,<span class="at">col=</span><span class="dv">3</span>,<span class="at">lwd=</span><span class="dv">2</span>,</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">80</span>),<span class="at">ylim=</span><span class="fu">c</span>(<span class="fl">1e2</span>,<span class="fl">1e4</span>),</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab=</span><span class="st">"eixo x"</span>, <span class="at">ylab=</span><span class="st">"eixo y"</span>,</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">main=</span><span class="st">"Meu título"</span>,<span class="at">sub=</span><span class="st">"Meu subtítulo"</span>,<span class="at">log=</span><span class="st">'xy'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span><span class="fu">data.frame</span>(A,B)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">matplot</span>(df, <span class="at">pch=</span><span class="dv">1</span>, <span class="at">type =</span> <span class="st">"b"</span>) <span class="co"># exemplo de `matplot`</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h=</span><span class="dv">4000</span>, <span class="at">lty=</span><span class="dv">2</span>, <span class="at">col=</span><span class="dv">5</span>) <span class="co"># adiciona uma linha azul pontilhada</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-11-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Também é possível atribuir alguns parâmetros (<code>cex</code>, <code>pch</code>, por exemplo) em função dos níveis de uma variável:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-12_2cef80872f85476d0bae14883cd5809c">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  y <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">10</span>,<span class="dv">11</span>,<span class="dv">12</span>,<span class="dv">13</span>,<span class="dv">14</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  z <span class="ot">=</span> <span class="fu">rep</span>(LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>],<span class="dv">3</span>)</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x,y, <span class="at">cex=</span><span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(<span class="fu">unique</span>(z)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;E também é possível definir alguns argumentos em função de outros, como o tamanho (‘cex’) e um texto:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-13_1ed7b90a68c5f48e42b0e7948946b185">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x,y)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="at">x=</span><span class="dv">2</span>, <span class="at">y=</span><span class="dv">10</span>, <span class="st">"abc"</span>, <span class="at">cex=</span><span class="dv">2</span>, <span class="at">col=</span><span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<section id="armazenamento" class="level3" data-number="8.2.1">
<h3 data-number="8.2.1" class="anchored" data-anchor-id="armazenamento"><span class="header-section-number">8.2.1</span> Armazenamento</h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No pacote base um gráfico pode ser armazenado abrindo-se inicialmente uma conexão, elaborando-se o gráfico, e fechando-se a conexão, como ilustrado a seguir:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-14_25f5d37ec38b6cad5876ab73979c36b6">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pdf</span>(<span class="st">"grafico.pdf"</span>, <span class="at">width=</span><span class="dv">7</span>, <span class="at">height=</span><span class="dv">4</span>) <span class="co"># abre a conexão</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x,y) <span class="co"># elabora o gráfico</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dev.off</span>() <span class="co"># fecha a conexão</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Obs: outros formatos possíveis: jpeg, bmp, tiff, ps, png</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="linhas-adicionais-graphics" class="level3" data-number="8.2.2">
<h3 data-number="8.2.2" class="anchored" data-anchor-id="linhas-adicionais-graphics"><span class="header-section-number">8.2.2</span> Linhas adicionais &amp; <code>graphics</code></h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;O pacote base opera produzindo o gráfico pela linha de comando contida em <code>plot()</code>. Não obstante, é possível adicionar outras linhas para o complemento analítico, estético, e mesmo estatístico do gráfico, como <em>legenda</em>, <em>barra de erros</em>, <em>pontos ou linhas adicionais</em>, <em>resumo estatístico</em>, adição de <em>seta</em>, <em>texto</em>, <em>linhas</em> (de <em>ajuste</em> ou suavidade - <em>spline</em>, <em>lowess</em>), dentre outras. Ilustrando todos esses ítens num único gráfico:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-15_54531f6a48f59aadf128bd3418de9721">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>A <span class="ot">=</span> <span class="fu">seq</span>(<span class="at">from=</span><span class="dv">2</span>, <span class="at">to=</span><span class="dv">10</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>B <span class="ot">=</span> A<span class="sc">/</span><span class="dv">2</span> <span class="sc">+</span> <span class="fu">runif</span>(<span class="at">n=</span><span class="dv">9</span>,<span class="at">min=</span><span class="fl">0.2</span>,<span class="at">max=</span><span class="dv">2</span>) <span class="co"># vetor resposta com com erro aleatório</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>C <span class="ot">=</span> B<span class="sc">+</span><span class="dv">1</span> <span class="co"># vetor resposta adicional pro gráfico</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>ajus <span class="ot">&lt;-</span> <span class="fu">lm</span>(B<span class="sc">~</span>A) <span class="co"># ajuste linear dos dados</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(A,B,</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">type=</span><span class="st">"o"</span>, <span class="at">col=</span><span class="st">"brown"</span>) <span class="co"># plot de pontos e linhas</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a><span class="fu">arrows</span>(<span class="at">x0=</span>A,<span class="at">y0=</span>B<span class="fl">-0.1</span><span class="sc">*</span>B,</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">x1=</span>A,<span class="at">y1=</span>B<span class="fl">+0.1</span><span class="sc">*</span>B,</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">angle=</span><span class="dv">90</span>,<span class="at">code=</span><span class="dv">3</span>,<span class="at">length=</span><span class="fl">0.1</span>,<span class="at">lwd=</span><span class="fl">0.7</span>,<span class="at">col=</span><span class="st">"blue"</span>)  <span class="co"># adição de barra de erros (nota: quando o tipo for de barras - barplot, ambos "x0" e "x1" são o dataframe)</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a><span class="fu">arrows</span>(<span class="at">x0=</span><span class="dv">2</span>,<span class="at">y0=</span><span class="dv">4</span>,<span class="at">x1=</span><span class="dv">5</span>,<span class="at">y1=</span><span class="dv">5</span>,<span class="at">length=</span><span class="fl">0.1</span>,<span class="at">angle=</span><span class="dv">45</span>, <span class="at">col=</span><span class="st">"green"</span>) <span class="co"># adição de seta</span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="at">x=</span><span class="dv">3</span>,<span class="at">y=</span><span class="dv">4</span>,<span class="st">"tendência"</span>,<span class="at">cex=</span><span class="fl">0.9</span>, <span class="at">col=</span><span class="st">"orange"</span>) <span class="co"># adição de texto</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(<span class="fu">spline</span>(A,B),<span class="at">col=</span><span class="st">"red"</span>) <span class="co"># adição de linha de ajuste genérica</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(ajus, <span class="at">lty=</span><span class="dv">2</span>) <span class="co"># adção de reta de ajuste linear</span></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(A,C<span class="dv">-1</span>, <span class="at">type=</span><span class="st">"b"</span>, <span class="at">col=</span><span class="st">"pink"</span>) <span class="co"># pontos adicionais</span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">cbind</span>(A,B,C) <span class="co"># cria um dataframe</span></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>med <span class="ot">&lt;-</span> <span class="fu">apply</span>(df, <span class="dv">1</span>, mean) <span class="co"># calcula a média das linhas do dataframe</span></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(A,med,<span class="at">pch=</span><span class="dv">17</span>) <span class="co"># adiciona pontos de média</span></span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(<span class="fu">lowess</span>(A,med, <span class="at">f=</span><span class="fl">0.9</span>), <span class="at">pch=</span><span class="dv">17</span>, <span class="at">col =</span> <span class="dv">5</span>) <span class="co"># adiciona linha de suavidade na média plotada</span></span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="at">x=</span><span class="dv">8</span>,<span class="at">y=</span><span class="fl">3.5</span>, <span class="fu">c</span>(<span class="st">"spline"</span>,<span class="st">"regressão"</span>,<span class="st">"lowess"</span>), <span class="at">pch=</span><span class="fu">c</span>(<span class="dv">16</span>,<span class="dv">16</span>,<span class="dv">16</span>), <span class="at">lty =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>), <span class="at">col=</span><span class="fu">c</span>(<span class="st">"red"</span>,<span class="st">"black"</span>,<span class="dv">5</span>)) <span class="co"># adição de legenda</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Também é possível a adição de <em>barras de erro</em> em diversos tipos de gráficos (pontos, barras), e por diversos pacotes. Exemplificando:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-16_092052d98f59967d09e034b96f084d85">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2</span>)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> x<span class="sc">+</span><span class="fu">rnorm</span>(<span class="dv">10</span>)</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x,y)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="co"># pacote base:</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="fu">arrows</span>(<span class="at">x0=</span>x,<span class="at">y0=</span>y,<span class="at">x1=</span>x,<span class="at">y1=</span>y<span class="fl">+0.05</span><span class="sc">*</span>y, <span class="at">length =</span> <span class="fl">0.1</span>, <span class="at">angle =</span><span class="dv">90</span>)</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="fu">arrows</span>(<span class="at">x0=</span>x,<span class="at">y0=</span>y,<span class="at">x1=</span>x,<span class="at">y1=</span>y<span class="fl">-0.05</span><span class="sc">*</span>y, <span class="at">length =</span> <span class="fl">0.1</span>, <span class="at">angle =</span><span class="dv">90</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># pacote Hmisc</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Hmisc)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x,y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-16-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">errbar</span>( x, y, y <span class="sc">+</span><span class="fl">0.05</span><span class="sc">*</span>y, y <span class="sc">-</span><span class="fl">0.05</span><span class="sc">*</span>y )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-16-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># pacote plotrix</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotrix)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x,y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-16-4.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>erro.y <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="dv">10</span>)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plotCI</span>(x,y,erro.y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-16-5.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Alguns elementos adicionais podem ser inseridos no gráfico não apenas por coordenadas, como acima, mas pelo uso da função <code>locator</code>. Essa função aguarda um clique de mouse em coordenada escolhida pelo usuário, extraindo seus valores. Aplicada a uma ação para inserção de informação ao gráfico, executa essa inserção por clique de mouse, como no exemplo abaixo para adição de legenda.</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-17_02ac317ce5e20fd67baa34aea61a44c0">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>A <span class="ot">=</span> <span class="fu">seq</span>(<span class="at">from=</span><span class="dv">2</span>, <span class="at">to=</span><span class="dv">10</span>)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>B <span class="ot">=</span> A<span class="sc">/</span><span class="dv">2</span> <span class="sc">+</span> <span class="fu">runif</span>(<span class="at">n=</span><span class="dv">9</span>,<span class="at">min=</span><span class="fl">0.2</span>,<span class="at">max=</span><span class="dv">2</span>) <span class="co"># vetor resposta com com erro aleatório</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="fu">locator</span>(<span class="dv">1</span>),<span class="st">"legenda"</span>) <span class="co"># quando executada, o `R` aguarda um clique de mouse para inserção (por isso o índice 1)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="pairs---plot-de-todas-as-variáveis" class="level3" data-number="8.2.3">
<h3 data-number="8.2.3" class="anchored" data-anchor-id="pairs---plot-de-todas-as-variáveis"><span class="header-section-number">8.2.3</span> <code>pairs</code> - plot de todas as variáveis</h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Quando se deseja observar panoramicamente a relação entre todas as variáveis de um gráfico, é útil o uso da função <code>pairs</code>, como ilustrado abaixo.</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-18_7f5d09d7cb5b62f28c5e7e28cf7d6913">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">list</span>(</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">a =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">b =</span> <span class="fu">sqrt</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>),</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">c =</span> <span class="fu">log</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>),</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">d =</span> <span class="fu">sin</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>))) <span class="co"># criação de dataset multivariado</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="fu">pairs</span>(df1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="paineis" class="level3" data-number="8.2.4">
<h3 data-number="8.2.4" class="anchored" data-anchor-id="paineis"><span class="header-section-number">8.2.4</span> Paineis</h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;O sistema base permite a construção de gráficos na forma de paineis por digitação sucessiva dos <em>plots</em> pretendidos. A função utilizada é <code>par(mfrow)</code> ou <code>par(mfcol)</code>, abreviações de linha ou coluna para <em>multiple frame</em>. Utilizando do <em>dataframe</em> acima:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-19_25e9961ac5ae4647d0d944492519ec90">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>b <span class="ot">=</span> <span class="fu">sqrt</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>c <span class="ot">=</span> <span class="fu">log</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>d <span class="ot">=</span> <span class="fu">sin</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) <span class="co"># vetores</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot.new</span>()</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>))</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(a,b)</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(a,c)</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(a,d)</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(b,c)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="a-função-matplot" class="level3" data-number="8.2.5">
<h3 data-number="8.2.5" class="anchored" data-anchor-id="a-função-matplot"><span class="header-section-number">8.2.5</span> A função <code>matplot</code></h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Embora o sistema base não seja o mais indicado para a produção de gráficos de dados multivariados, tais como <code>ggplot2</code> e <code>lattice</code>, é possível sua construção com a função <code>matplot</code>. O comando produz um gráfico a partir de uma matriz, conceito que também cabe a um <em>dataframe</em>, ou de vetores obtidos por cálculo.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No uso de <code>matplot</code> a condição básica é que o tipo de gráfico seja de ponto ou de linha, não sendo permitidos demais tipos (barra, boxplot, etc).</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Há duas formas para isso: uma similar à <code>plot</code>, adiciona-se plots sucessivos pelas funções <code>matpoints</code> e <code>matlines</code>. E outra a partir de matriz (<em>dataframe</em>) ou de vetores isolados. Ilustrando:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-20_23f0ccb68fcf5ceb764aef96fa58fe5f">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>df.m <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">24</span>, <span class="at">ncol=</span><span class="dv">6</span>)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df.m) <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>, <span class="st">"D"</span>, <span class="st">"E"</span>, <span class="st">"F"</span>) <span class="co"># criação de dataframe com 6 colunas (vetores), simulando um dataframe</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="fu">matplot</span>(df.m) <span class="co"># gráfico multivariado básico</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Observe que <code>matplot</code> produz um gráfico multivariado com números representando os pontos. As variações abaixo incrementam a estética do gráfico, além de permitir sua produção por subconjuntos dos dados, bem como pelo uso de função matemática.</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-21_53bf074358841eb49ac1838584aac9ba">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">matplot</span>(df.m, <span class="at">pch=</span><span class="dv">15</span>, <span class="at">type=</span><span class="st">"o"</span>, <span class="at">cex =</span> <span class="dv">2</span>) <span class="co"># símbolos,</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co">#matplot(df.m, pch=df.m, type=df.m, cex = df.m) # estética em função dos vetores</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">matplot</span>(df.m[<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>,<span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">6</span>)],</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="at">type =</span> <span class="fu">c</span>(<span class="st">"p"</span>,<span class="st">"p"</span>,<span class="st">"p"</span>),</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="at">pch =</span> <span class="dv">16</span>,</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="at">cex =</span> <span class="dv">2</span>)  <span class="co"># plot somente com vetores C e E, e linhas de 2 a 4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-21-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">7</span>,<span class="dv">10</span>,<span class="dv">13</span>,<span class="dv">20</span>)<span class="sc">/</span><span class="dv">10</span> <span class="co"># criação de variável independente</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="fu">matplot</span>(x, <span class="fu">outer</span>(x, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="cf">function</span>(x, k) x<span class="sc">^</span>k),</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">pch =</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>], <span class="at">type =</span> <span class="fu">c</span>(<span class="st">"b"</span>,<span class="st">"p"</span>,<span class="st">"o"</span>)) <span class="co"># com função matemática (observe o uso de `outer`)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-21-3.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Embora não seja normalmente considerado nas referências do <code>R</code>, a criação de gráficos com vetores ou <em>dataframes</em> de dados multivariados também pode ser realizad usando-se a função <code>matplot</code>, como abaixo:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-22_1282f1b3dbfdcfd99b344cf2bc5bea35">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Plot multivariado com vetores</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">7</span>,<span class="dv">10</span>,<span class="dv">13</span>,<span class="dv">20</span>)</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">7</span>, <span class="dv">17</span>, <span class="dv">25</span>, <span class="dv">50</span>, <span class="dv">55</span>)</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> y<span class="sc">/</span><span class="dv">2</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>w <span class="ot">&lt;-</span> y<span class="sc">^</span><span class="fl">1.2</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>dat<span class="ot">&lt;-</span><span class="fu">cbind</span>(x,y,z,w)</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a><span class="fu">matplot</span>(x, dat, </span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">pch =</span> <span class="fu">c</span>(<span class="st">"x"</span>,<span class="st">"y"</span>,<span class="st">"z"</span>,<span class="st">"w"</span>), <span class="at">type =</span> <span class="fu">c</span>(<span class="st">"n"</span>,<span class="st">"o"</span>,<span class="st">"o"</span>,<span class="st">"o"</span>)) <span class="co"># Obs: veja que há um truque para a produção gráfica: o símbolo de "x" é omitido (type="n")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reforçando aqui o comentário do trecho de código acima, <em>veja que há um truque para a produção gráfica: o símbolo de “x” é omitido (type=“n”)</em>. Dessa forma, ainda que a sequência de “x” seja plotada, ela não é apresentada.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A consequência direta é que torna-se possível pelo sistema <code>graphics</code> básico aquilo que normalmente é alocado para sistemas mais elaborados, como <code>ggplot2</code>e <code>lattice</code>, descritos a seguir.</p>
</section>
<section id="as-funções-plot-matplot-e-curve" class="level3" data-number="8.2.6">
<h3 data-number="8.2.6" class="anchored" data-anchor-id="as-funções-plot-matplot-e-curve"><span class="header-section-number">8.2.6</span> As funções <code>plot</code>, <code>matplot</code>, e <code>curve</code></h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;De certa forma, as funções acima presentes no <code>graphics</code> são intercambiáveis, como exemplificado a seguir, embora <code>curve</code> exija como variável independente <em>x</em>, mas com um produto final mais curvilinear:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-23_b47153fcf413b110a6db9ee28e7d637f">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">4</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> x<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x,y, <span class="at">type=</span><span class="st">"l"</span>, <span class="at">xlim=</span><span class="fu">c</span>(<span class="sc">-</span><span class="dv">4</span>,<span class="dv">5</span>))  <span class="co"># função quadrática por `plot`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">curve</span>(x<span class="sc">^</span><span class="dv">2</span>, <span class="at">xlim=</span><span class="fu">c</span>(<span class="sc">-</span><span class="dv">4</span>,<span class="dv">5</span>))  <span class="co"># função quadrática por `curve`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-23-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">matplot</span>((<span class="sc">-</span><span class="dv">4</span><span class="sc">:</span><span class="dv">5</span>)<span class="sc">^</span><span class="dv">2</span>, <span class="at">pch=</span><span class="dv">15</span>, <span class="at">type=</span><span class="st">"l"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-23-3.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="graphics-e-formato-long-para-dados-multivariados" class="level2" data-number="8.3">
<h2 data-number="8.3" class="anchored" data-anchor-id="graphics-e-formato-long-para-dados-multivariados"><span class="header-section-number">8.3</span> ‘Graphics’ e formato <em>Long</em> para dados multivariados</h2>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Embora não seja usual na literatura que trata o sistema base de gráficos do <code>R</code>, é possível trabalhar-se com dados multivariados <em>sem a necessidade de se acrescentar linhas para cada plot</em> construido.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Para isso, é necessário a construção dos dados em formato <em>Long</em>, como no exemplo a seguir.</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-24_f330bebf8e2b826fd32fd60ed53f007e">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">12</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  x,</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">y=</span>x<span class="sc">^</span><span class="dv">2</span><span class="sc">+</span><span class="fu">runif</span>(<span class="at">n=</span><span class="dv">12</span>, <span class="dv">40</span>,<span class="dv">50</span>), <span class="co"># uma função qualquer</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">grupo=</span><span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"g1"</span>, <span class="st">"g2"</span>, <span class="st">"g3"</span>, <span class="st">"g4"</span>), <span class="at">each =</span> <span class="dv">3</span>)) <span class="co"># cria o *dataframe* com um fator com 4 níveis</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Agora é necessário atribuir aos níveis de um fator uma característica numérica, posto que cor, tipo e largura de linha, tamanho de pontos, etc, são também alocados por valores. Nesse caso:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-25_0539a0f6300d99c5c18ef2188397dd5b">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>niveis <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">factor</span>(<span class="fu">levels</span>(<span class="fu">as.factor</span>(df<span class="sc">$</span>grupo)))) <span class="co"># atribui um vetor de cores aos níveis dos grupos</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Agora pode-se <em>plotar</em> os dados multivariados com a função ‘plot()’.</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-26_fe064fecf1196486909f773970917420">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(y<span class="sc">~</span>x, <span class="at">data=</span>df,</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">type=</span><span class="st">"p"</span>,<span class="at">col=</span>niveis)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in plot.window(xlim, ylim, log = log, ...): graphical parameter "type"
is obsolete</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in axis(if (horiz) 2 else 1, at = at.l, labels = names.arg, lty =
axis.lty, : graphical parameter "type" is obsolete</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in title(main = main, sub = sub, xlab = xlab, ylab = ylab, ...):
graphical parameter "type" is obsolete</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in axis(if (horiz) 1 else 2, cex.axis = cex.axis, ...): graphical
parameter "type" is obsolete</code></pre>
</div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(y<span class="sc">~</span>x, <span class="at">data=</span>df,</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">type=</span><span class="st">"p"</span>,<span class="at">col=</span>niveis)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-26-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(y<span class="sc">~</span>x, <span class="at">data=</span>df,</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">type=</span><span class="st">"p"</span>,<span class="at">col=</span>niveis, <span class="at">cex=</span>niveis)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-26-3.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;O sistema base do <code>graphics</code> permite um conjunto bem mais extenso de características e performances além das que foram tratados aqui, pelo que recomenda-se ao interessado as inúmeras fontes de tutoriais da internete, livros e <em>ebooks</em> correlatos.</p>
</section>
<section id="o-sistema-ggplot2" class="level2" data-number="8.4">
<h2 data-number="8.4" class="anchored" data-anchor-id="o-sistema-ggplot2"><span class="header-section-number">8.4</span> O sistema <code>ggplot2</code></h2>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;O <code>R</code> possui diversos pacotes pra criação de gráficos, dentre os quais destaca-se o <code>ggplot2</code>. Esse pacote permite a elaboração de um grande número de tipos (pontos, linhas, barras, histograma, etc) e com qualidade de publicação.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Basicamente o ambiente funciona tal e qual um editor de imagens, como o <em>Corel Draw</em> ou <em>Inkscape</em>, e que permitem a criação dessas por camadas. A única diferença é que em tais editores as camadas são depositadas ao bel prazer de seu criador. Já no <code>ggplot2</code> as camadas tem propriedades fixas. Mas o bacana é que, tanto para a edição de imagens naqueles programas, como para a edição de gráficos no <code>ggplot2</code>, a alteração feita numa camada específica só altera essa, preservando as demais que “já deram certo”.</p>
<section id="a-gramática-de-gráficos-ggplot2" class="level3" data-number="8.4.1">
<h3 data-number="8.4.1" class="anchored" data-anchor-id="a-gramática-de-gráficos-ggplot2"><span class="header-section-number">8.4.1</span> A gramática de gráficos &amp; <code>ggplot2</code></h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A produção de um gráfico pelo pacote <code>ggplot2</code> envolve em síntese a elaboração de camadas sobrepostas. Essa ideia deriva-se dos conceitos de <em>gramática de gráficos</em> concebida por Wilkinson <span class="citation" data-cites="wilkinson2012grammar">(<a href="bibliografia.html#ref-wilkinson2012grammar" role="doc-biblioref">2012</a>)</span>, e concretizada no <code>ggplot2</code> por Wickham <span class="citation" data-cites="wickham2011ggplot2">(<a href="bibliografia.html#ref-wickham2011ggplot2" role="doc-biblioref">2011</a>)</span>.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nesse sentido é, de certa forma, parecida com a de alguns programas de criação e edição de imagens, como <em>Corel Draw</em> (MS Office) ou <em>Inkscape</em> (Linux, macOS, Windows). Diferente desses, contudo, o ‘ggplot2’ monta camadas específicas e distintas uma das outras.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Podem ser montadas até 7 sobrepostas em distintos arranjos, embora apenas 3 sejam indispensáveis (<em>dados, estética, e geoma</em>):</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-27_9e8ea0697330cdc9299ee41e859751c4">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 13%">
<col style="width: 86%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">camadas</th>
<th style="text-align: left;">ideia</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Dados</td>
<td style="text-align: left;">autoexplicativo</td>
</tr>
<tr class="even">
<td style="text-align: left;">Estética</td>
<td style="text-align: left;">variáveis visuais - mapeamento de eixos, cor, preenchimento</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Geomas</td>
<td style="text-align: left;">tipos de gráficos: pontos, lin has, barras, boxes, etiquetas de eixos (geom)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Estatística</td>
<td style="text-align: left;">transformação de dados para plotagem</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Paineis</td>
<td style="text-align: left;">visualização de subconjunto de dados em paineis (facet)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Coordenadas</td>
<td style="text-align: left;">focalização do canvas (scales) e transformação de eixos (coord)</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;À despeito dessa “aparente complicação”, tudo se resume em apresentar os dados (<em>data</em>) e realizar seu mapeamento (<em>mapping</em>). O mapeamento obriga apenas a alocação das variáveis independente (<em>x</em>) e dependente (<em>y</em>) do gráfico. Mas para se visualizar os dados no gráfico, é necessário acrescentar ao menos um elemento geométrico (<em>geom</em>) - ponto ou linha, por exemplo.<br>
&nbsp;&nbsp;De modo mais completo, o mapeamento é efetuado por 5 componentes da tabela acima: <em>layer</em> (elementos geométricos - <em>geom</em>, e transformações e resumos estatísticos - <em>stat</em>),<em>scales,coord,facet,theme</em>.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No <code>ggplot2</code> camadas podem ser depositadas como numa sequência lógica pra criação de um gráfico:</p>
<ol type="1">
<li>Estabelece-se os dados que serão utilizados.</li>
<li>Define-se quem é o <em>x</em> e quem é o <em>y</em>.</li>
<li>Cria-se um tipo de gráfico.</li>
<li>Embeleza-se o gráfico criado (eixos, cores, símbolos, tamanhos).</li>
</ol>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Havendo empolgação, pode-se continuar com o <code>ggplot2</code> aprimorando o gráfico criado. Para isso:</p>
<ol type="1">
<li>Observa-se alguma relação entre as variáveis.</li>
<li>Avalia-se um modelo para essa relação (reta, curva).</li>
<li>Insere-se no gráfico o modelo que se ajustou (equação e parâmetros).</li>
</ol>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Para uso de dados multivariados, a condição para uso do <code>ggplot2</code> é que os mesmos estejam distribuidos em formato <em>Long</em>, ou seja, os níveis ou subconjuntos de uma variável precisam ser alocados num único vetor. Isso é simples quando se tem poucas linhas, mas complexo, quando tratar-se de vários níveis ou elementos em cada nível. No entanto, para se converter dados em <em>Wide</em> (várias colunas pra cada nível, x, y, z, etc) em <em>Long</em> (uma coluna única contendo os níveis x, y, z, etc), utiliza-se algumas funções, tais como do pacote <code>reshape</code> ou <code>tydir</code> (função <code>gather</code> pra converter a <em>longer</em> ou <code>spread</code> pra converter a <em>wider</em>).</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Segue uma descrição sequencial para a elaboração de um gráfico de dados univariados pelo <code>ggplot2</code>, seguindo-se as camadas descritas acima. Posteriormente será apresentado a confecção gráfica para dados multivariados.</p>
</section>
<section id="simulando-um-conjunto-pequeno-de-dados" class="level3" data-number="8.4.2">
<h3 data-number="8.4.2" class="anchored" data-anchor-id="simulando-um-conjunto-pequeno-de-dados"><span class="header-section-number">8.4.2</span> Simulando um conjunto pequeno de dados</h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pra essa primeira etapa vamos construir uma tabela com dados fictícios. Lembrando ainda que poderíamos obter os dados por <em>cópia/colagem</em>, ou por importação de outra planilha.</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-28_56941b8784c75b77c71f22b4649f6fdf">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>meus.dados <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="at">header =</span> T, <span class="at">text =</span> <span class="st">'</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="st">      dist veloc</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="st">      1 2</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="st">      2 6</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a><span class="st">      3 9</span></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a><span class="st">      4 11</span></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a><span class="st">      5 13</span></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a><span class="st">      6 14</span></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a><span class="st">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="carregando-o-ggplot2" class="level3" data-number="8.4.3">
<h3 data-number="8.4.3" class="anchored" data-anchor-id="carregando-o-ggplot2"><span class="header-section-number">8.4.3</span> Carregando o ggplot2</h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Agora é fazer o gráfico carregando a biblioteca. Nota óbvia: é preciso instalar antes a biblioteca.</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-29_a2a34532fbcad98997e2dfa45dece740">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("ggplot", dependencies = TRUE) </span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-30_01c95915844ce3b4e018b37e3fcc1504">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>meus.dados)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Veja que surgiu um quadro (<em>canvas</em>), embora apenas o quadro, mesmo, sem nenhum <em>x</em> ou <em>y</em>. O que também é óbvio, pois não definimos essas variáveis ainda. Para isso:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-31_c1a2f4d8d427e546dc609101f7985db5">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>meus.dados, <span class="fu">aes</span>(<span class="at">x=</span>dist, <span class="at">y=</span>veloc))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Agora o gráfico apresenta-se com os eixos, embora sem os dados da tabela. No conjunto de obviedades que se assoma, é claro, também não definimos que tipo de gráfico queremos. Ou seja, se ponto, linha, barra, ou algum pra lá de dúzia que compõe o pacote <code>ggplot2</code>.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Uma observação importantíssima: veja que as variáveis estão dentro de um parêntes iniciado pela função <em>aes</em>. Do inglês, uma abreviação de <em>aesthetics</em>, ou estética, em tradução livre. Todo gráfico do <code>ggplot2</code> tem que conter essa função, que além de definir as variáveis envolvidas, também permite generalizar para as camadas outras características estéticas, como <em>cor, tamanho, e forma</em>.</p>
</section>
<section id="escolhendo-o-tipo-de-gráfico" class="level3" data-number="8.4.4">
<h3 data-number="8.4.4" class="anchored" data-anchor-id="escolhendo-o-tipo-de-gráfico"><span class="header-section-number">8.4.4</span> Escolhendo o tipo de gráfico</h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;De volta ao ofício, o tipo de gráfico no pacote <code>ggplot2</code> é definido pelo tipo de <em>geom</em>, ou geoma, em tradução livre e um pouco óbvia, também. O <code>ggplot2</code> tem <em>geom</em>s pra tudo que é gráfico. E para inseri-lo na linha de comando de produção desse, basta acrescentar seu tipo como uma camada adicional, usando o sinal <em>” + “</em>, mesmo, como segue.</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-32_f356cbb939fb67fd1fb8caa3ea0f422f">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>meus.dados, <span class="fu">aes</span>(<span class="at">x=</span>dist, <span class="at">y=</span>veloc)) <span class="sc">+</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<em>“Parfait”</em> ! Agora, sim, quadro, dados, eixos gráficos, e pontos. Uma qualidade muito legal do <code>ggplot2</code> e, na verdade, de qualquer programa que use linhas de comando para gerar resultados, como o próprio <code>R</code>, é que pra gente produzir um gráfico diferente não precisa criá-lo do zero; basta alterar o ponto específico que se deseja na linha de comando. Na prática, se ao invés de produzirmos um gráfico de pontos quisermos outros tipos, é só mudar o <em>geom</em>:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-33_ff777b58f68b7ee239181baeb87ab238">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>meus.dados, <span class="fu">aes</span>(<span class="at">x=</span>dist, <span class="at">y=</span>veloc)) <span class="sc">+</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>meus.dados, <span class="fu">aes</span>(<span class="at">x=</span>dist, <span class="at">y=</span>veloc)) <span class="sc">+</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-33-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>meus.dados, <span class="fu">aes</span>(<span class="at">x=</span>dist, <span class="at">y=</span>veloc)) <span class="sc">+</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in max(ids, na.rm = TRUE): no non-missing arguments to max; returning
-Inf</code></pre>
</div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-33-3.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Como mencionado, o <code>ggplot2</code> trabalha sobrepondo camadas. Que tal então um gráfico como o de cima, mas com a linha de tendência sobreposta aos pontos ?</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-34_0651dcb9c09fb94578012b675714f1d5">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>meus.dados, <span class="fu">aes</span>(<span class="at">x=</span>dist, <span class="at">y=</span>veloc)) <span class="sc">+</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()<span class="sc">+</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in max(ids, na.rm = TRUE): no non-missing arguments to max; returning
-Inf</code></pre>
</div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="oferecendo-elegância-ao-gráfico" class="level3" data-number="8.4.5">
<h3 data-number="8.4.5" class="anchored" data-anchor-id="oferecendo-elegância-ao-gráfico"><span class="header-section-number">8.4.5</span> Oferecendo elegância ao gráfico</h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bom, seguindo-se os ítens de construção de um gráfico lá de cima, agora é hora de “botar” elegância no produto ! Pra isso pode-se escolher algumas <em>“estéticas”</em> de cor (<em>color</em>), tamanho (<em>size</em>), translucidez (<em>alpha</em>), forma (<em>shape</em>), preenchimento do símbolo (<em>fill</em>) e sua espessura do tracejado do símbolo (<em>stroke</em>), e inseri-las como argumentos do geoma.</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-35_34d3e145419ac58ba3fb6505b8be886b">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>meus.dados, <span class="fu">aes</span>(<span class="at">x=</span>dist, <span class="at">y=</span>veloc)) <span class="sc">+</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color=</span> <span class="st">"blue"</span>, </span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">size=</span><span class="dv">5</span>,  <span class="co"># tamanho do símbolo</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="co"># transparência (0 a 1)</span></span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">shape =</span> <span class="dv">21</span>, <span class="co"># tipo do símbolo</span></span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">fill =</span> <span class="st">"green"</span>, <span class="co"># preenchimento (só vale pra tipos vazios, obviamente)</span></span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">stroke =</span> <span class="dv">2</span>) <span class="co"># espessura do tracejado do símbolo</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bonito, não ? Ou doido, mesmo !</p>
<!-- |       Note que o argumento "forma" (*shape*) foi colocado no *geom*, e não na linha principal de *aes* do `ggplot2`. Isso ocorre porque o *shape* desejado só é válido para um gráfico de pontos. Não dá pra pensar em *shape* na linha de *aes* se o gráfico fosse outro (por exemplo...linha é linha, oras, e em forma de linha !!). -->
<!-- |       Caminhando um pouco mais, veja que surge automaticamente uma legenda no gráfico. Isso é bem válido para quando se tem mais de um grupo de dados, como velocidades de veículos distintos, por exemplo. Mas é completamente bizarro manter essa legenda pra  simples relação de que trata nossos dados. Nesse caso, pode-se omitir a legenda: -->
<!-- ```{r} -->
<!-- ggplot(data=meus.dados, aes(x=dist, y=veloc, col = "red", size = 5, alpha = 0.5)) + -->
<!--   geom_point(shape = 2, show.legend = TRUE) -->
<!-- ``` -->
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Agora que melhoramos (…ou pioramos) o aspecto visual do gráfico, que tal dar um jeito nas etiquetas dos eixos (<em>labels</em>) ? Veja que estão com as abreviações das colunas <em>x</em> e <em>y</em> dos dados. Quem sabe algo com mais empáfia, então ?</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-36_65b07b97d94a049f9cd07133818fd15d">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>meus.dados, <span class="fu">aes</span>(<span class="at">x=</span>dist, <span class="at">y=</span>veloc)) <span class="sc">+</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color=</span> <span class="st">"blue"</span>, <span class="at">size=</span><span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">fill =</span> <span class="st">"green"</span>, <span class="at">stroke =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"distância percorrida (km)"</span>,</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"velocidade do foguete (km/min)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="colocando-títulos-e-subtítulos" class="level3" data-number="8.4.6">
<h3 data-number="8.4.6" class="anchored" data-anchor-id="colocando-títulos-e-subtítulos"><span class="header-section-number">8.4.6</span> Colocando títulos e subtítulos</h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Observe que tanto faz colocar as características dos pontos com identação, uma abaixo da outra, ou em linha, mesmo. A única diferença é que colocando uma abaixo da outra visualiza-se melhor o que se pretende fazer. Isso faz parte das <em>“boas práticas de programação”</em>.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Essa função <em>labs</em> permite também se colocar título, subtítulo, e uma observação (<em>caption</em>) no gráfico, veja:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-37_fff2fec741ff7b986ebc141dea4da676">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>meus.dados, <span class="fu">aes</span>(<span class="at">x=</span>dist, <span class="at">y=</span>veloc, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a> <span class="fu">geom_point</span>(<span class="at">color=</span> <span class="st">"blue"</span>, <span class="at">size=</span><span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">fill =</span> <span class="st">"green"</span>, <span class="at">stroke =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"distância percorrida (km)"</span>,</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"velocidade do foguete (km/min)"</span>,</span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Alcance do foguetinho !"</span>,</span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Testes de campo"</span>,</span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Obs: construção caseira"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="mudando-a-aparência-de-fundo" class="level3" data-number="8.4.7">
<h3 data-number="8.4.7" class="anchored" data-anchor-id="mudando-a-aparência-de-fundo"><span class="header-section-number">8.4.7</span> Mudando a aparência de fundo</h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;O <code>ggplot2</code> apresenta como padrão esse <em>canvas</em> acizentado. Mas existem vários outros, bastando-se definir um tema (<em>theme</em>) ao gráfico:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-38_eab140bf8f1491db7981f0d9fa0bbff8">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>meus.dados, <span class="fu">aes</span>(<span class="at">x=</span>dist, <span class="at">y=</span>veloc, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color=</span> <span class="st">"blue"</span>, <span class="at">size=</span><span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">fill =</span> <span class="st">"green"</span>, <span class="at">stroke =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"distância percorrida (km)"</span>,</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"velocidade do foguete (km/min)"</span>,</span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Alcance do foguetinho !"</span>,</span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Testes de campo"</span>,</span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Obs: construção caseira"</span>) <span class="sc">+</span></span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-39_842a53e6cffd822f6146633ecb5c1112">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>meus.dados, <span class="fu">aes</span>(<span class="at">x=</span>dist, <span class="at">y=</span>veloc, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a> <span class="fu">geom_point</span>(<span class="at">color=</span> <span class="st">"blue"</span>, <span class="at">size=</span><span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">fill =</span> <span class="st">"green"</span>, <span class="at">stroke =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"distância percorrida (km)"</span>,</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"velocidade do foguete (km/min)"</span>,</span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Alcance do foguetinho !"</span>,</span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Testes de campo"</span>,</span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Obs: construção caseira"</span>) <span class="sc">+</span></span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-40_1c5b1458095c7e8deb0cb8e639f748e9">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>meus.dados, <span class="fu">aes</span>(<span class="at">x=</span>dist, <span class="at">y=</span>veloc, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a> <span class="fu">geom_point</span>(<span class="at">color=</span> <span class="st">"blue"</span>, <span class="at">size=</span><span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">fill =</span> <span class="st">"green"</span>, <span class="at">stroke =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"distância percorrida (km)"</span>,</span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"velocidade do foguete (km/min)"</span>,</span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Alcance do foguetinho !"</span>,</span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Testes de campo"</span>,</span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Obs: construção caseira"</span>) <span class="sc">+</span></span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_linedraw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-40-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="alterando-o-tamanho-da-fonte" class="level3" data-number="8.4.8">
<h3 data-number="8.4.8" class="anchored" data-anchor-id="alterando-o-tamanho-da-fonte"><span class="header-section-number">8.4.8</span> Alterando o tamanho da fonte</h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nessa versão dá pra notar que o tamanho dos valores nos eixos, bem como o tamanho de suas etiquetas, deixam um pouco a desejar à estética do gráfico. Aumentando esses valores um pouquinho dentro da função <em>theme</em> (o padrão ou <em>default</em> é fonte 11)…</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-41_35fdb21e2305b113aa540983223bccba">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>meus.dados, <span class="fu">aes</span>(<span class="at">x=</span>dist, <span class="at">y=</span>veloc, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color=</span> <span class="st">"blue"</span>, <span class="at">size=</span><span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">fill =</span> <span class="st">"green"</span>, <span class="at">stroke =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"distância percorrida (km)"</span>,</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"velocidade do foguete (km/min)"</span>,</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Alcance do foguetinho !"</span>,</span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Testes de campo"</span>,</span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"construção caseira"</span>) <span class="sc">+</span></span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-41-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># theme(axis.text = element_text(size = 14),</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#       axis.text.x = element_text(size = 14))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Se desejar omitir alguma informação do gráfico, basta omiti-la da linha de comando. Por exemplo, se desejarmos retirar título, subtítulo e nota de observação:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-42_8f95c8216a1cfbbfc7f58f4a53f15602">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>meus.dados, <span class="fu">aes</span>(<span class="at">x=</span>dist, <span class="at">y=</span>veloc, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color=</span> <span class="st">"blue"</span>, <span class="at">size=</span><span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">fill =</span> <span class="st">"green"</span>, <span class="at">stroke =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"distância percorrida (km)"</span>,</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"velocidade do foguete (km/min)"</span>) <span class="sc">+</span></span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-42-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="mudando-os-limites-dos-eixos" class="level3" data-number="8.4.9">
<h3 data-number="8.4.9" class="anchored" data-anchor-id="mudando-os-limites-dos-eixos"><span class="header-section-number">8.4.9</span> Mudando os limites dos eixos</h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dá pra melhorar mais um pouco a visualização ?! Sempre dá, claro. Por exemplo, observe que nosso gráfico não inicia na <em>origem</em>, ou seja, quando <em>x</em> e <em>y</em> tem valor <em>zero</em>. Se quisermos alterar então esses eixos pra iniciarem no zero…bom…lá vai mais uma camada !!</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-43_180dcc222ba0ad3b654a19d325b42e50">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>meus.dados, <span class="fu">aes</span>(<span class="at">x=</span>dist, <span class="at">y=</span>veloc, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color=</span> <span class="st">"blue"</span>, <span class="at">size=</span><span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">fill =</span> <span class="st">"green"</span>, <span class="at">stroke =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"distância percorrida (km)"</span>,</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"velocidade do foguete (km/min)"</span>) <span class="sc">+</span></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">14</span>)<span class="sc">+</span></span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">6.5</span>), <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">15</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-43-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Apesar de mais “pomposo” tanto o nome como as possibilidades dessa camada <code>coord_cartesian</code>, também é possível obter o mesmo efeito apenas com os argumentos <code>xlim</code> e <code>ylim</code>, e de modo um pouquinho diferente. Pra não repetir o gráfico acima, segue um exemplo com limites distintos nos eixos:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-44_72f315460e12e2b6569de879997ada74">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>meus.dados, <span class="fu">aes</span>(<span class="at">x=</span>dist, <span class="at">y=</span>veloc, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color=</span> <span class="st">"blue"</span>, <span class="at">size=</span><span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">fill =</span> <span class="st">"green"</span>, <span class="at">stroke =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"distância percorrida (km)"</span>,</span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"velocidade do foguete (km/min)"</span>) <span class="sc">+</span></span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="sc">-</span><span class="dv">1</span>,<span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="sc">-</span><span class="dv">1</span>,<span class="dv">28</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-44-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="modelando-os-dados" class="level3" data-number="8.4.10">
<h3 data-number="8.4.10" class="anchored" data-anchor-id="modelando-os-dados"><span class="header-section-number">8.4.10</span> Modelando os dados</h3>
<section id="ajuste-linear" class="level4" data-number="8.4.10.1">
<h4 data-number="8.4.10.1" class="anchored" data-anchor-id="ajuste-linear"><span class="header-section-number">8.4.10.1</span> Ajuste linear</h4>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Agora que nosso gráfico tá (…ou deveria estar) mais incrementado, que tal colocar uma linha de ajuste dos pontos ? Modelos pra isso não faltam, mas optemos inicialmente pelo mais simples: um <em>ajuste ou regressão linear</em>. Resumidamente, trata-se de observar se a resposta <em>y</em> segue uma tendência linear com os valores de <em>x</em>. E como o <code>ggplot2</code> trabalha com camadas, adicionemos essa camada, então:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-45_6521942d304ca2caa31d78b96f19c50c">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>meus.dados, <span class="fu">aes</span>(<span class="at">x=</span>dist, <span class="at">y=</span>veloc, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color=</span> <span class="st">"blue"</span>, <span class="at">size=</span><span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">fill =</span> <span class="st">"green"</span>, <span class="at">stroke =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"distância percorrida (km)"</span>,</span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"velocidade do foguete (km/min)"</span>) <span class="sc">+</span></span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">'lm'</span>, <span class="at">linewidth =</span> <span class="fl">0.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
ℹ Please use `linewidth` instead.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-45-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Agora ficou chique !! E também indecifrável…ou quase. Indo por partes: o método escolhido foi <code>lm</code>, ou modelo linear (<em>linear model</em>). O termo poderia ser também substituido por <code>'y ~x'</code>, uma notação do <code>R</code> que indica a dependência de <em>y</em> em relação a <em>x</em>. O argumento <code>linewidth</code> sinaliza pra espessura do tracejado. E a banda acizentada indica o <em>intervalo de confiança</em> do ajuste (<em>erro padrão</em>). Pra retirar essa última, bem como a legenda doida, basta fazer:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-46_48ffa00e694632a58455f073aef62af3">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>meus.dados, <span class="fu">aes</span>(<span class="at">x=</span>dist, <span class="at">y=</span>veloc, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color=</span> <span class="st">"blue"</span>, <span class="at">size=</span><span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">fill =</span> <span class="st">"green"</span>, <span class="at">stroke =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"distância percorrida (km)"</span>,</span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"velocidade do foguete (km/min)"</span>) <span class="sc">+</span></span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">'lm'</span>, <span class="at">linewidth =</span> <span class="fl">0.5</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-46-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Existem diversos parâmetros que são obtidos pela função <code>lm</code>. Dada a natureza de <em>programação orientada a objeto</em> do <code>R</code>, esses parâmetros podem ser acessados individualmente em seus objetos. Exemplificando:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-47_0b19297012a6cb2e806165d0026fe0f7">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(lm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
</div>
</section>
<section id="ajuste-polinomial" class="level4" data-number="8.4.10.2">
<h4 data-number="8.4.10.2" class="anchored" data-anchor-id="ajuste-polinomial"><span class="header-section-number">8.4.10.2</span> Ajuste polinomial</h4>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Apesar de bem incrementado esse gráfico final, observe que a tendência dos pontos não é propriamente linear. Tá parecendo mais uma curva. E dentre as curvas possíveis, quem sabe uma parábola. Nesse caso é preferível ajustar o modelo a uma parábola, mais condizente mesmo com a trajetório de um foguete. Pra isso, basta que alteremos acrescentemos qual a <code>formula</code> a ser empregada:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-48_22a0c03b87aa15f8b31699db02ea9d85">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>meus.dados, <span class="fu">aes</span>(<span class="at">x=</span>dist, <span class="at">y=</span>veloc, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color=</span> <span class="st">"blue"</span>, <span class="at">size=</span><span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">fill =</span> <span class="st">"green"</span>, <span class="at">stroke =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"distância percorrida (km)"</span>,</span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"velocidade do foguete (km/min)"</span>) <span class="sc">+</span></span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">'lm'</span>, <span class="at">formula =</span> y <span class="sc">~</span> <span class="fu">poly</span>(x, <span class="dv">2</span>), <span class="at">linewidth =</span> <span class="fl">0.5</span>, <span class="at">color =</span> <span class="st">"orange"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-48-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Apesar de um pouco confuso, a expressão <code>formula = y ~ poly(x, 2)</code> indica tratar-se de um ajuste para um <em>polinômio de 2a. ordem</em> em <em>x</em>. E, claro, uma “corzinha” adicional no tracejado não faz mal a ninguém !</p>
</section>
</section>
<section id="salvando-o-gráfico" class="level3" data-number="8.4.11">
<h3 data-number="8.4.11" class="anchored" data-anchor-id="salvando-o-gráfico"><span class="header-section-number">8.4.11</span> Salvando o gráfico</h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Agora, pra se guardar esse gráfico, um tanto trabalhoso, convenhamos, o <code>R</code> permite o salvamento em diversos formatos, como JPG, BMP, TIFF, PDF, PNG, EPS, por exemplo. Dois jeitos de salvar o gráfico: um se dá pelo <em>menu</em> de <em>Plots</em> do canto inferior esquerdo do <em>RStudio</em> (Plots –&gt; Export). Se quisermos o armazenamento por linha de comando, por outro lado, basta utilizar a função <code>ggsave</code> logo após a criação do gráfico.</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-49_7e1a2c5ff11ef4745814200672fe1bed">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>meus.dados, <span class="fu">aes</span>(<span class="at">x=</span>dist, <span class="at">y=</span>veloc, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color=</span> <span class="st">"blue"</span>, <span class="at">size=</span><span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">fill =</span> <span class="st">"green"</span>, <span class="at">stroke =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"distância percorrida (km)"</span>,</span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"velocidade do foguete (km/min)"</span>) <span class="sc">+</span></span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">'lm'</span>, <span class="at">formula =</span> y <span class="sc">~</span> <span class="fu">poly</span>(x, <span class="dv">2</span>), <span class="at">linewidth =</span> <span class="fl">0.5</span>, <span class="at">color =</span> <span class="st">"orange"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-49-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Salvando o gráfico...</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="at">filename =</span>  <span class="st">"plot.meus.dados.png"</span>, <span class="at">dpi =</span> <span class="dv">300</span>, <span class="at">width =</span> <span class="dv">4</span>, <span class="at">height =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Se você não especificou onde salvar o gráfico, veja no diretório raiz do computador. Explicando brevemente a função, <code>dpi</code> representa a resolução do gráfico, enquanto que <code>width</code> e <code>height</code> especificam o tamanho.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mas também dá pra salvar o gráfico sem qualquer especificação. Exemplificando pra um arquivo <em>PDF</em>:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-50_80c9b2a1587426bb2d669581e9ebb651">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="at">filename =</span>  <span class="st">"plot.meus.dados.pdf"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Saving 7 x 5 in image</code></pre>
</div>
</div>
</section>
<section id="simplificando-a-construção-de-um-gráfico" class="level3" data-number="8.4.12">
<h3 data-number="8.4.12" class="anchored" data-anchor-id="simplificando-a-construção-de-um-gráfico"><span class="header-section-number">8.4.12</span> Simplificando a construção de um gráfico</h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bom, ainda que o gráfico acima tenha um certo ar de sofisticação, não é sempre que se deseja isso. Na maior parte das vezes, o que se quer é plotar os dados e observar alguma tendência. E, pra isso, não é necessário todas essas camadas, funções e argumentos. Para se plotar algo “parecido” com o gráfico acima, mas sem toda essa pompa, basta fazermos:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-51_c634ec7d4ecfc0d484b6111ed5eaab37">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>meus.dados, <span class="fu">aes</span>(<span class="at">x=</span>dist, <span class="at">y=</span>veloc)) <span class="sc">+</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-51-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="elaborando-um-gráfico-apenas-com-vetores" class="level3" data-number="8.4.13">
<h3 data-number="8.4.13" class="anchored" data-anchor-id="elaborando-um-gráfico-apenas-com-vetores"><span class="header-section-number">8.4.13</span> Elaborando um gráfico apenas com vetores</h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;O pacote <code>ggplot2</code> é normalmente empregado para a criação de de gráficos a partir de um <em>dataset</em>. Não obstante, é possível produzir também um gráfico apenas com vetores, tal como segue:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-52_6e971979231274c5c21c216a34519f68">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">360</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">=</span> <span class="fu">sin</span>(x)</span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>( <span class="at">data =</span> <span class="cn">NULL</span> ,</span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">mapping =</span> <span class="fu">aes</span>( <span class="at">x =</span> x , <span class="at">y =</span> y ) ) <span class="sc">+</span></span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">15</span>, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="fl">0.5</span>)<span class="sc">+</span></span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"eixo x"</span>, <span class="at">y=</span><span class="st">"eixo y"</span>) <span class="sc">+</span></span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">45</span>,<span class="dv">90</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-52-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="simulação-função-em-ggplot2" class="level3" data-number="8.4.14">
<h3 data-number="8.4.14" class="anchored" data-anchor-id="simulação-função-em-ggplot2"><span class="header-section-number">8.4.14</span> Simulação &amp; função em <code>ggplot2</code></h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Como o sistema base, o <code>ggplot2</code> possui também uma função para a produção de tendências por equações introduzidas, <code>geom_function</code>. Exemplificando:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-53_91fd15570e10b78156e9433dbf316b27">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(ggplot2)</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">data.frame</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>), <span class="fu">aes</span>(x)) <span class="sc">+</span></span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_function</span>(<span class="at">fun=</span><span class="cf">function</span>(x) <span class="dv">173</span><span class="sc">*</span>x<span class="sc">/</span>(<span class="dv">6</span><span class="sc">+</span>x), <span class="at">colour =</span> <span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-53-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="ggplot2-para-dados-multivariados" class="level3" data-number="8.4.15">
<h3 data-number="8.4.15" class="anchored" data-anchor-id="ggplot2-para-dados-multivariados"><span class="header-section-number">8.4.15</span> <code>ggplot2</code> para dados multivariados</h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Como explicado acima, o <code>ggplot2</code> trabalha <em>exclusivamente</em> com dados em formato <em>Long</em>, ou seja, uma variável para cada quantidade. Dessa forma, os subconjuntos de uma variável (ou nível) devem situar-se nessa única variável. Ilustrando:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-54_de8f7375ada5185864058353a0bfb443">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>tempo <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">4</span>),<span class="dv">4</span>))</span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>resposta <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">6</span>,<span class="dv">8</span>,<span class="dv">10</span>,<span class="dv">14</span>,<span class="dv">18</span>,<span class="dv">22</span>,<span class="dv">24</span>,<span class="dv">30</span>,<span class="dv">36</span>,<span class="dv">42</span>)</span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>niveis <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">"A"</span>,<span class="dv">4</span>),<span class="fu">rep</span>(<span class="st">"B"</span>, <span class="dv">4</span>), <span class="fu">rep</span>(<span class="st">"C"</span>, <span class="dv">4</span>), <span class="fu">rep</span>(<span class="st">"D"</span>, <span class="dv">4</span>)) <span class="co"># criação de dataframe com níveis</span></span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span><span class="fu">data.frame</span>(tempo, resposta, niveis); df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   tempo resposta niveis
1      1        1      A
2      2        2      A
3      3        3      A
4      4        4      A
5      1        2      B
6      2        4      B
7      3        6      B
8      4        8      B
9      1       10      C
10     2       14      C
11     3       18      C
12     4       22      C
13     1       24      D
14     2       30      D
15     3       36      D
16     4       42      D
17     1        1      A
18     2        2      A
19     3        3      A
20     4        4      A
21     1        2      B
22     2        4      B
23     3        6      B
24     4        8      B
25     1       10      C
26     2       14      C
27     3       18      C
28     4       22      C
29     1       24      D
30     2       30      D
31     3       36      D
32     4       42      D
33     1        1      A
34     2        2      A
35     3        3      A
36     4        4      A
37     1        2      B
38     2        4      B
39     3        6      B
40     4        8      B
41     1       10      C
42     2       14      C
43     3       18      C
44     4       22      C
45     1       24      D
46     2       30      D
47     3       36      D
48     4       42      D
49     1        1      A
50     2        2      A
51     3        3      A
52     4        4      A
53     1        2      B
54     2        4      B
55     3        6      B
56     4        8      B
57     1       10      C
58     2       14      C
59     3       18      C
60     4       22      C
61     1       24      D
62     2       30      D
63     3       36      D
64     4       42      D</code></pre>
</div>
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>df, <span class="fu">aes</span>(<span class="at">x=</span>tempo, <span class="at">y=</span>resposta)) <span class="sc">+</span></span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">shape=</span>niveis, <span class="at">color=</span>niveis)) <span class="sc">+</span></span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">linetype=</span>niveis))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-54-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Note que cada elemento estético pode ser configurado para cada <em>geom</em>. Alternativamente, pode-se conferir os elementos estéticos combinando-os para o gráfico geral, bem como para cada camada:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-55_c1e2c43028044d9b7d337729c3289e45">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>tempo <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">4</span>),<span class="dv">4</span>))</span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>resposta <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">6</span>,<span class="dv">8</span>,<span class="dv">10</span>,<span class="dv">14</span>,<span class="dv">18</span>,<span class="dv">22</span>,<span class="dv">24</span>,<span class="dv">30</span>,<span class="dv">36</span>,<span class="dv">42</span>)</span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>niveis <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">"A"</span>,<span class="dv">4</span>),<span class="fu">rep</span>(<span class="st">"B"</span>, <span class="dv">4</span>), <span class="fu">rep</span>(<span class="st">"C"</span>, <span class="dv">4</span>), <span class="fu">rep</span>(<span class="st">"D"</span>, <span class="dv">4</span>)) <span class="co"># criação de dataframe com níveis</span></span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span><span class="fu">data.frame</span>(tempo, resposta, niveis)</span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-7"><a href="#cb95-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb95-8"><a href="#cb95-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>df, <span class="fu">aes</span>(<span class="at">x=</span>tempo, <span class="at">y=</span>resposta, <span class="at">shape=</span>niveis, <span class="at">color=</span>niveis)) <span class="sc">+</span></span>
<span id="cb95-9"><a href="#cb95-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size=</span><span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb95-10"><a href="#cb95-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">linetype=</span>niveis))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-55-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Para um conjunto com visual sobreposição de pontos, pode-se também empregar a função <code>jitter</code>, como no <code>graphics</code>:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-56_d15b6c8964d21d8bb6ec6e9c0dd67b88">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>df, <span class="fu">aes</span>(<span class="at">x=</span>tempo, <span class="at">y=</span>resposta)) <span class="sc">+</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>         <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>         <span class="fu">geom_jitter</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-56-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="paineis-faceting" class="level3" data-number="8.4.16">
<h3 data-number="8.4.16" class="anchored" data-anchor-id="paineis-faceting"><span class="header-section-number">8.4.16</span> Paineis (<em>faceting</em>)</h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Como um recurso estético e analítico significativo, o <em>faceting</em> permite ao <code>ggplot2</code> a visualização multivariada em paineis. Seguem exemplos para o <em>dataset</em> acima.</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-57_151c04e87ad9e266ec166772cb388cea">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>tempo <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">4</span>),<span class="dv">4</span>))</span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>resposta <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">6</span>,<span class="dv">8</span>,<span class="dv">10</span>,<span class="dv">14</span>,<span class="dv">18</span>,<span class="dv">22</span>,<span class="dv">24</span>,<span class="dv">30</span>,<span class="dv">36</span>,<span class="dv">42</span>)</span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>niveis <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">"A"</span>,<span class="dv">4</span>),<span class="fu">rep</span>(<span class="st">"B"</span>, <span class="dv">4</span>), <span class="fu">rep</span>(<span class="st">"C"</span>, <span class="dv">4</span>), <span class="fu">rep</span>(<span class="st">"D"</span>, <span class="dv">4</span>)) <span class="co"># criação de dataframe com níveis</span></span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span><span class="fu">data.frame</span>(tempo, resposta, niveis)</span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>df, <span class="fu">aes</span>(<span class="at">x=</span>tempo, <span class="at">y=</span>resposta, <span class="at">shape=</span>niveis, <span class="at">color=</span>niveis)) <span class="sc">+</span></span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size=</span><span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb97-8"><a href="#cb97-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">linetype=</span>niveis))<span class="sc">+</span></span>
<span id="cb97-9"><a href="#cb97-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="at">cols=</span><span class="fu">vars</span>(niveis)) <span class="co"># paineis verticais (útil para visualização da ordenada) </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-57-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>df, <span class="fu">aes</span>(<span class="at">x=</span>tempo, <span class="at">y=</span>resposta, <span class="at">shape=</span>niveis, <span class="at">color=</span>niveis)) <span class="sc">+</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size=</span><span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">linetype=</span>niveis))<span class="sc">+</span></span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="at">rows=</span><span class="fu">vars</span>(niveis)) <span class="co"># paineis horizontais (útil para visualização na abscissa)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-57-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>df, <span class="fu">aes</span>(<span class="at">x=</span>tempo, <span class="at">y=</span>resposta, <span class="at">shape=</span>niveis, <span class="at">color=</span>niveis)) <span class="sc">+</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size=</span><span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">linetype=</span>niveis))<span class="sc">+</span></span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(niveis)) <span class="co"># paineis divididos (útil na visualização equilibrada de abscissa e ordenada)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-57-3.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="gráfico-de-matriz-de-dados" class="level3" data-number="8.4.17">
<h3 data-number="8.4.17" class="anchored" data-anchor-id="gráfico-de-matriz-de-dados"><span class="header-section-number">8.4.17</span> Gráfico de matriz de dados</h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Assim como para o sistema base, o <code>ggplot2</code> também permite a construção de gráficos de matriz de pontos (<code>pairs</code>), embora com maior riqueza de detalhes. Para isso, é necessária a instalação do pacote <code>GGally</code>, que extende as possibilidades do <code>ggplot2</code>, e o uso da função <code>ggpairs</code>, como segue:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-58_0ed2e6bb48c1e19cfaf3add8bfcd8f75">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GGally)</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggpairs</span>(iris)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-58-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="o-pacote-ggmatplot" class="level3" data-number="8.4.18">
<h3 data-number="8.4.18" class="anchored" data-anchor-id="o-pacote-ggmatplot"><span class="header-section-number">8.4.18</span> O pacote <code>ggmatplot</code></h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;O <code>ggplot2</code> foi concebido para visualização gráfica de dados em formato <em>Long</em>. Isso pode ser um tanto trabalhoso quando se tem dados em formato <em>Wide</em>, já que é necessário converter o <em>dataset</em> para <em>Long</em>.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nesse sentido, o pacote <code>ggmatplot</code> foi idealizado de modo parecido ao <code>matplot</code>, tendo em mente a necessidade de se elaborar um gráfico com o pacote <code>ggplot2</code>, mas com dados originalmente em formato <em>Wide</em>. Segue um exemplo.</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-59_2378f9b183a7829bd975d6015082e046">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">7</span>,<span class="dv">10</span>,<span class="dv">13</span>,<span class="dv">20</span>)</span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">7</span>, <span class="dv">17</span>, <span class="dv">25</span>, <span class="dv">50</span>, <span class="dv">55</span>)</span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> y<span class="sc">/</span><span class="fu">rnorm</span>(<span class="dv">6</span>,<span class="dv">0</span>,<span class="dv">1</span>)</span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a>dat<span class="ot">&lt;-</span><span class="fu">cbind</span>(x,y,z)</span>
<span id="cb102-6"><a href="#cb102-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-7"><a href="#cb102-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggmatplot)</span>
<span id="cb102-8"><a href="#cb102-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggmatplot</span>(x,y,</span>
<span id="cb102-9"><a href="#cb102-9" aria-hidden="true" tabindex="-1"></a>          <span class="at">size=</span><span class="dv">2</span>, <span class="at">shape=</span><span class="st">"circle"</span>, <span class="at">color =</span><span class="st">"blue"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-59-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggmatplot</span>(x,z,</span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">alpha=</span><span class="fl">0.5</span>, <span class="at">size =</span><span class="dv">5</span>, <span class="at">shape =</span> <span class="st">"square"</span>, <span class="at">col=</span><span class="st">"purple"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-59-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Assim como para o sistema base de <code>graphics</code>, existem tutoriais e livros completos sobre o uso detalhado do <code>ggplot2</code>, tendo-se arranhado aqui apenas algumas de suas características.</p>
</section>
</section>
<section id="o-sistema-lattice" class="level2" data-number="8.5">
<h2 data-number="8.5" class="anchored" data-anchor-id="o-sistema-lattice"><span class="header-section-number">8.5</span> O sistema <code>lattice</code></h2>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Baseado na plotagem do sistema <em>trellis</em>, o <code>lattice</code> situa-se, ao menos na visão deste autor, a meio caminho entre o <code>graphics</code> e o <code>ggplot2</code>, combinando boas caraterísticas de ambos, tais como elencadas abaixo.</p>
<ol type="1">
<li>Pode-se trabalhar com formato <em>Wide</em> (<code>graphics</code>), bem como em <em>Long</em> (<code>ggplot2</code>);</li>
<li>Possui simplicidade algorítmica para gráficos mais simples (<code>graphics</code>), embora possa produzir plots bastante complexos (e com algoritmo ídem), e em uma única linha de comando (<code>ggplot2</code>);</li>
<li>Tem seu ponto forte na elaboração de gráficos de dados multivariados (<code>ggplot2</code>), possibilitando sua apresentação em um único gráfico ou em paineis (<em>faceting</em>, <code>ggplot2</code>);</li>
<li>Como o <code>graphics</code>, permite inserir resultados de computação estatística ou numérica na construção dos gráficos (embora não tão trivial como o base).</li>
<li>Como o <code>graphics</code>, utiliza comandos semelhantes (<em>cex</em>, <em>type</em>, <em>lty</em>, etc).</li>
</ol>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;O <code>lattice</code> emprega uma <em>fórmula</em> na construção de linha única de seu algoritmo (<em>trellis</em>), tal que:</p>
<p><em>Trellis formula: y~x | variável_condicional, grupos = variável_grupo</em></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Alguns exemplos a seguir empregam variações intuitivas da fórmula acima para a construção de gráficos no <code>lattice</code>:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-60_60106fdb5de2c6a9334ac6a5504458e1">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">xyplot</span>(y<span class="sc">~</span>x)</span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="fu">xyplot</span>(y<span class="sc">~</span>x1<span class="sc">+</span>x2)</span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a><span class="fu">xyplot</span>(y<span class="sc">~</span>x<span class="sc">+</span>y<span class="sc">~</span>z)</span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a><span class="fu">xyplot</span>(y<span class="sc">~</span>x <span class="sc">|</span> z)  <span class="co"># o símbolo "|" indica agrupamento</span></span>
<span id="cb104-5"><a href="#cb104-5" aria-hidden="true" tabindex="-1"></a><span class="fu">xyplot</span>(y<span class="sc">~</span>x <span class="sc">|</span> g1 <span class="sc">+</span> g2) <span class="co"># juntando dois subgrupos</span></span>
<span id="cb104-6"><a href="#cb104-6" aria-hidden="true" tabindex="-1"></a><span class="fu">xyplot</span>(y<span class="sc">~</span>x <span class="sc">|</span> g, <span class="at">groups =</span> k ) <span class="co"># separa os paineis de níveis "g" por subgrupos "k"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;O <code>lattice</code> permite a produção gráfica quer por formato <em>Long</em> como por <em>Wide</em>, com as fórmulas ilustradas a seguir:</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-61_53eda744fbd414adea31b43943b6ced3">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>Long<span class="sc">:</span> </span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>  y<span class="sc">~</span>x <span class="sc">|</span> grupo </span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a>  y<span class="sc">~</span>x, groups<span class="ot">=</span>grupo</span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a>Wide<span class="sc">:</span> y<span class="sc">~</span>x1<span class="sc">+</span>x2<span class="sc">+</span>...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;O trecho de código abaixo exemplifica o uso do <code>lattice</code> para o <em>dataframe</em> multivariado utilizado para o <code>ggplot2</code>, para comparação, e incluindo algumas variações simples tanto do <em>dataset</em> como da linha de algoritmo.</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-62_c2aa37fc8013f6a6ab67a720ee622099">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>tempo <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">4</span>),<span class="dv">4</span>))</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>resposta <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">6</span>,<span class="dv">8</span>,<span class="dv">10</span>,<span class="dv">14</span>,<span class="dv">18</span>,<span class="dv">22</span>,<span class="dv">24</span>,<span class="dv">30</span>,<span class="dv">36</span>,<span class="dv">42</span>)</span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>resposta2 <span class="ot">&lt;-</span> resposta <span class="sc">+</span> <span class="fu">runif</span>(<span class="dv">16</span>,<span class="dv">2</span>,<span class="dv">5</span>)</span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a>niveis <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">"A"</span>,<span class="dv">4</span>),<span class="fu">rep</span>(<span class="st">"B"</span>, <span class="dv">4</span>), <span class="fu">rep</span>(<span class="st">"C"</span>, <span class="dv">4</span>), <span class="fu">rep</span>(<span class="st">"D"</span>, <span class="dv">4</span>)) <span class="co"># criação de dataframe com níveis</span></span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a>grupos <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"g1"</span>, <span class="st">"g2"</span>, <span class="st">"g3"</span>, <span class="st">"g4"</span>),<span class="dv">4</span>) </span>
<span id="cb106-6"><a href="#cb106-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-7"><a href="#cb106-7" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span><span class="fu">data.frame</span>(tempo, resposta2, niveis, grupos) <span class="co"># criação de dataframe com níveis e grupos</span></span>
<span id="cb106-8"><a href="#cb106-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-9"><a href="#cb106-9" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span><span class="fu">data.frame</span>(tempo, resposta2, niveis)</span>
<span id="cb106-10"><a href="#cb106-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-11"><a href="#cb106-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lattice)</span>
<span id="cb106-12"><a href="#cb106-12" aria-hidden="true" tabindex="-1"></a><span class="fu">xyplot</span>(resposta2<span class="sc">~</span>tempo, <span class="at">data=</span>df) <span class="co"># plot básico</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-62-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">xyplot</span>(resposta2<span class="sc">~</span>tempo, <span class="at">groups=</span>niveis, <span class="at">data=</span>df,</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">type=</span><span class="fu">c</span>(<span class="st">"p"</span>,<span class="st">"spline"</span>)) <span class="co"># separação por grupos e adição de curva suave</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-62-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">xyplot</span>(resposta2<span class="sc">~</span>tempo <span class="sc">|</span> niveis, <span class="at">data=</span>df,</span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">type=</span><span class="fu">c</span>(<span class="st">"p"</span>,<span class="st">"r"</span>),</span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">cex=</span><span class="dv">2</span>, <span class="at">lty=</span><span class="dv">4</span>, <span class="at">pch=</span><span class="dv">16</span>, <span class="at">col=</span><span class="dv">4</span>,</span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">alpha=</span><span class="fl">0.5</span>) <span class="co"># divisão em paineis e regressão linear</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-62-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">xyplot</span>(resposta2<span class="sc">~</span>tempo <span class="sc">|</span> niveis, <span class="at">groups =</span> grupos, <span class="at">data=</span>df) <span class="co"># divisão por paineis e grupo</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-62-4.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Assim como para os sistemas anteriores, o <code>lattice</code> possui uma infinidade de variações, e cujo montante foge do escopo deste trabalho, sugerindo-se ao leitor o universo da internete, de <em>ebooks</em> e livros a respeito.</p>
</section>
<section id="outros-pacotes-gráficos" class="level2" data-number="8.6">
<h2 data-number="8.6" class="anchored" data-anchor-id="outros-pacotes-gráficos"><span class="header-section-number">8.6</span> Outros pacotes gráficos</h2>
<section id="plotmath" class="level3" data-number="8.6.1">
<h3 data-number="8.6.1" class="anchored" data-anchor-id="plotmath"><span class="header-section-number">8.6.1</span> plotmath</h3>
</section>
<section id="plotrix" class="level3" data-number="8.6.2">
<h3 data-number="8.6.2" class="anchored" data-anchor-id="plotrix"><span class="header-section-number">8.6.2</span> plotrix</h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Esse pacote permite a construção de diversos tipos de gráficos e personalizações variadas (escala partida, barras de erros), como os exemplificados pelo desenvolvedor.</p>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-63_7f5e854fb74cbf027d58cbc4af5c4d47">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotrix)</span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a>y<span class="ot">&lt;-</span><span class="fu">runif</span>(<span class="dv">10</span>)</span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a>err<span class="ot">&lt;-</span><span class="fu">runif</span>(<span class="dv">10</span>)</span>
<span id="cb110-5"><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plotCI</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,y,err,<span class="dv">2</span><span class="sc">*</span>err,<span class="at">lwd=</span><span class="dv">2</span>,<span class="at">col=</span><span class="st">"red"</span>,<span class="at">scol=</span><span class="st">"blue"</span>,<span class="at">main=</span><span class="st">"Dispersão"</span>) <span class="co"># barras de erro em pontos</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-63-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(warpbreaks)</span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(warpbreaks)</span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a>wmeans<span class="ot">&lt;-</span><span class="fu">by</span>(breaks,tension,mean)</span>
<span id="cb111-4"><a href="#cb111-4" aria-hidden="true" tabindex="-1"></a>wsd<span class="ot">&lt;-</span><span class="fu">by</span>(breaks,tension,sd)</span>
<span id="cb111-5"><a href="#cb111-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plotCI</span>(<span class="fu">barplot</span>(wmeans,<span class="at">col=</span><span class="st">"gray"</span>,<span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="fu">max</span>(wmeans<span class="sc">+</span>wsd))),wmeans,wsd,<span class="at">add=</span><span class="cn">TRUE</span>) <span class="co"># barras de erro em barplot</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-63-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span><span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>; y<span class="ot">=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x,y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-63-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gap.plot</span>(x, y, <span class="at">gap =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">7</span>), <span class="at">gap.axis =</span> <span class="st">"x"</span>) <span class="co"># escala partida</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in gap.plot(x, y, gap = c(2, 7), gap.axis = "x"): some values of x will
not be displayed</code></pre>
</div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-63-4.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="fu">zoomInPlot</span>(<span class="fu">rnorm</span>(<span class="dv">100</span>),<span class="fu">rnorm</span>(<span class="dv">100</span>),<span class="at">rxlim=</span><span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>,<span class="dv">1</span>),<span class="at">rylim=</span><span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>,<span class="dv">1</span>), <span class="at">zoomtitle=</span><span class="st">"Zoom In Plot"</span>,<span class="at">titlepos=</span><span class="sc">-</span><span class="fl">1.5</span>) <span class="co"># cria plot e janela retangular de ampliação de dados</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-63-5.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a>pieval<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">6</span>,<span class="dv">8</span>)</span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a>pielabels<span class="ot">&lt;-</span></span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="st">"detestam"</span>,<span class="st">"são contrários"</span>,<span class="st">"não se </span><span class="sc">\n</span><span class="st"> importam"</span>,<span class="st">"gostam muito"</span>)</span>
<span id="cb116-4"><a href="#cb116-4" aria-hidden="true" tabindex="-1"></a><span class="co"># grab the radial positions of the labels</span></span>
<span id="cb116-5"><a href="#cb116-5" aria-hidden="true" tabindex="-1"></a>lp<span class="ot">&lt;-</span><span class="fu">pie3D</span>(pieval,<span class="at">radius=</span><span class="fl">0.9</span>,<span class="at">labels=</span>pielabels,<span class="at">explode=</span><span class="fl">0.1</span>,<span class="at">main=</span><span class="st">"torta 3"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graficos_files/figure-html/unnamed-chunk-63-6.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell" data-hash="graficos_cache/html/unnamed-chunk-64_2702e515b519111a2fa6781e7fa69575">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>ggplot2 síntese</span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-4"><a href="#cb117-4" aria-hidden="true" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">x=</span>, <span class="at">y=</span>, <span class="at">title=</span>, <span class="at">subtitle=</span>, <span class="at">caption=</span>)</span>
<span id="cb117-5"><a href="#cb117-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-6"><a href="#cb117-6" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_errobar</span>(<span class="at">size=</span>, <span class="at">colour=</span>, <span class="at">alpha=</span>, <span class="at">alpha.width=</span>, <span class="fu">aes</span>(<span class="at">ymin =</span> <span class="at">ymax =</span> )</span>
<span id="cb117-7"><a href="#cb117-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-8"><a href="#cb117-8" aria-hidden="true" tabindex="-1"></a><span class="fu">theme</span>(<span class="at">legend.title=</span>, <span class="at">legend.position=</span>, <span class="at">legend.background=</span>, <span class="at">legend.text=</span>,</span>
<span id="cb117-9"><a href="#cb117-9" aria-hidden="true" tabindex="-1"></a><span class="at">axis.text.x=</span></span>
<span id="cb117-10"><a href="#cb117-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-11"><a href="#cb117-11" aria-hidden="true" tabindex="-1"></a><span class="fu">guides</span>(<span class="at">colour=</span>, <span class="at">size=</span>, <span class="at">shape=</span>, <span class="at">fill=</span>, <span class="at">alpha=</span></span>
<span id="cb117-12"><a href="#cb117-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-13"><a href="#cb117-13" aria-hidden="true" tabindex="-1"></a><span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x=</span>, <span class="at">y=</span>, <span class="at">label=</span>)</span>
<span id="cb117-14"><a href="#cb117-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-15"><a href="#cb117-15" aria-hidden="true" tabindex="-1"></a><span class="fu">coord_cartesian</span>(<span class="at">xlim=</span>, <span class="at">ylim=</span>)</span>
<span id="cb117-16"><a href="#cb117-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-17"><a href="#cb117-17" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_hline</span>(<span class="at">yintercept=</span>, <span class="at">linetype=</span>, <span class="at">size=</span>, <span class="at">colour=</span>, <span class="at">alpha=</span>); geom_vline</span>
<span id="cb117-18"><a href="#cb117-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-19"><a href="#cb117-19" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_abline</span>(<span class="at">intercept=</span>, <span class="at">slope=</span>, linetype, colour, alpha)</span>
<span id="cb117-20"><a href="#cb117-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-21"><a href="#cb117-21" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_points</span>(<span class="at">shape=</span>, <span class="at">colour=</span>, <span class="at">size=</span>, <span class="at">fill=</span>, <span class="at">stsroke=</span>, <span class="at">alpha=</span>)</span>
<span id="cb117-22"><a href="#cb117-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-23"><a href="#cb117-23" aria-hidden="true" tabindex="-1"></a><span class="fu">stat_summary</span>(<span class="at">fun.data=</span> <span class="at">fun=</span>, <span class="at">geom=</span>, <span class="at">colour=</span>, <span class="at">fill=</span>, <span class="at">size=</span>)</span>
<span id="cb117-24"><a href="#cb117-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-25"><a href="#cb117-25" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_line</span>(<span class="at">size=</span>, <span class="at">alpha=</span>, <span class="at">linetype=</span>, <span class="at">color=</span>)</span>
<span id="cb117-26"><a href="#cb117-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-27"><a href="#cb117-27" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data=</span><span class="fu">subset</span>(dataset,subconjunto)</span>
<span id="cb117-28"><a href="#cb117-28" aria-hidden="true" tabindex="-1"></a><span class="fu">gemom_smooth</span>(<span class="at">method=</span>, <span class="at">formula=</span>, <span class="at">method.args=</span><span class="fu">list</span>(<span class="at">start=</span>), <span class="at">se=</span>, <span class="at">span=</span>, <span class="at">size=</span>, <span class="at">colour=</span>, <span class="at">alpha=</span>, <span class="at">linetype=</span>, <span class="at">n=</span>)</span>
<span id="cb117-29"><a href="#cb117-29" aria-hidden="true" tabindex="-1"></a>faceting</span>
<span id="cb117-30"><a href="#cb117-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-31"><a href="#cb117-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-32"><a href="#cb117-32" aria-hidden="true" tabindex="-1"></a>Em resumo<span class="sc">:</span></span>
<span id="cb117-33"><a href="#cb117-33" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_point</span>()</span>
<span id="cb117-34"><a href="#cb117-34" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_line</span>()</span>
<span id="cb117-35"><a href="#cb117-35" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>()</span>
<span id="cb117-36"><a href="#cb117-36" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_boxplot</span>()</span>
<span id="cb117-37"><a href="#cb117-37" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_bar</span>()</span>
<span id="cb117-38"><a href="#cb117-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-39"><a href="#cb117-39" aria-hidden="true" tabindex="-1"></a>size, colour, shape, alpha, linetype, fill, stroke</span>
<span id="cb117-40"><a href="#cb117-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-41"><a href="#cb117-41" aria-hidden="true" tabindex="-1"></a><span class="fu">coord_cartesian</span>(xlim, ylim)</span>
<span id="cb117-42"><a href="#cb117-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-43"><a href="#cb117-43" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_abline</span>(yintercept, slope)</span>
<span id="cb117-44"><a href="#cb117-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-45"><a href="#cb117-45" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">method=</span>, <span class="at">formula=</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


<div id="refs" class="references csl-bib-body hanging-indent" role="list" style="display: none">
<div id="ref-wickham2011ggplot2" class="csl-entry" role="listitem">
Wickham, Hadley. 2011. <span>“Ggplot2.”</span> <em>Wiley Interdisciplinary Reviews: Computational Statistics</em> 3 (2): 180–85.
</div>
<div id="ref-wilkinson2012grammar" class="csl-entry" role="listitem">
Wilkinson, Leland. 2012. <em>The Grammar of Graphics</em>. Springer.
</div>
</div>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./figuras.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Figuras</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./tidyverse.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Tidyverse</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>